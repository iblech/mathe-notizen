=== Kommutierende Matrizen

* Kommutierende Matrizen lassen sich im Allgemeinen *nicht* simultan
  auf Jordanform bringen!

  http://math.stackexchange.com/questions/49378/simultaneous-jordanization


=== Minimale freie Auflösungen

Sei S = k[x_0,...,x_n]. Habe S --> k durch Auswertung bei (0,...,0).

* Eine minimale freie Auflösung eines S-Moduls M ist eine
  endliche freie Auflösung, in der die Differentiale tensoriert mit k
  Null sind.

* Sei 0 --> F_* --> M --> 0 eine minimale freie Auflösung mit
  F_i = oplus_j S(-j)^{beta_ij}. Dann:

      beta_ij = dim_k Tor_i^S(k, M)_j  (Grad-j-Anteil)

  Um das einzusehen, einfach mit der gegebenen Auflösung die rechte Seite
  ausrechnen. Der dazu benötigte Komplex hat verschwindende Differentiale.

* Die Formel zeigt auch: F_i = 0 für i >= n + 2!
  Denn für k gibt es die Koszul-Auflösung, welche eine entsprechende Länge hat.

* https://tlovering.wordpress.com/2012/10/24/hilberts-syzygy-theorem-isnt-very-hard-to-prove/
  sagt: Eine freie Auflösung, in der man in jedem Schritt die Minimalzahl
  benötigter Erzeuger nimmt, ist minimal in diesem Sinn.


=== Erweiterung und Kontraktion von Idealen

* Sei A --> B ein Ringhomo und I ein Ideal von A. Dann gilt:

      sqrt(sqrt(I) B) = sqrt(I B).


=== Annihilator

* Ann A/I = I.

* Stets gilt (in klassischer Logik natürlich):

      supp(M) <= V(Ann M).

  Wenn M endlich erzeugt ist, gilt auch ">=".

  Zeige dazu für ein Primideal p:

      M_p != 0   (<)==>   Ann(M) <= p.

  "==>": Sei sM = 0. Angenommen, s nicht in p. Dann M_p = 0. Widerspruch.

  "<==": Angenommen M_p = 0. Dann existiert zu jedem x aus M ein s nicht in p
  mit sx = 0 in M. Da M endlich erzeugt ist, gibt es damit s_1 ... s_n nicht in p
  mit s_1 ... s_n M = 0, also s_1 ... s_n in Ann(M) <= p. Widerspruch.


=== Ein Primidealprinzip

Lam, Reyes. A prime ideal principle in commutative algebra.
https://math.berkeley.edu/~lam/html/JAlg-PIP.pdf


=== Jacobsonsches Radikal

* Das jacobsonsche Radikal j ist der Schnitt über alle maximale Ideale.
  Klassisch gilt: j = { x | 1 - xy inv. für alle y }.

* Ein Ring heißt genau dann jacobsonsch, wenn jedes Primideal Schnitt
  von maximalen Idealen ist.

* Jede endlich erzeugte Algebra über einem (nicht notwendermaßen algebraisch
  abgeschlossenen) Körper ist jacobsonsch. Das sagt Hilberts Nullstellensatz.
  Siehe Götz/Wedhorn, Thm. 1.7, Seite 10.


=== Dualer Vektorraum

Sei V ein Vektorraum über einem Körper F und dim(V) = infty.
Dann dim(V^) > dim(V).

Das geht so (siehe http://math.stackexchange.com/a/35863/61604):
Sei d = dim(V), d^ = dim(V^). Dann zeige d^ >= |F|.

Somit |V^| = d' * |F| = max { d', |F| } = d'.

Also d' = |V^| = |F|^|d| > |d|, da |F| >= 2.

* Dabei verwendet: Ist W von Dimension a, so |W| = a * |F|.
  
  Das zeigt man so (wobei B eine Basis von W ist):

      |W| = |bigcup_{T <= B endlich} prod_T F|
          = sum_{T <= B endlich} |F|^|T|
          = sum_{T <= B endlich} |F|
          = |B| * |F| = a * |F|.

  Wie geht das genau?


=== Lokale Eigenschaften

Für mich bedeutet "lokal": bezüglich einer Zerlegung der Eins.
Eine Alternative ist "halmweise".

* Surjektivität ist eine lokale Eigenschaft.


=== Fitting-Ideale

* Das i-te Fitting-Ideal eines endlich präsentierten Moduls M
  mit Präsentationsmatrix A : R^a --> R^b ist das Ideal der (b-i)-Minoren von A.
  Es ist unabhängig von der Wahl der Präsentationsmatrix. Das sieht man so:
  (Nach Serre, Algebra)

  1. Zunächst ist klar, dass Basiswechsel hinten und vorne nichts ausmachen.
     (Denn ist R invertierbar, so ist auch Lambda^d(R) invertierbar; und ist S
     invertierbar, so ist das Ideal der Einträge von S, (S), das Einsideal.
     Denn wir haben (1) = (S . S^(-1)) <= (S) * (S^(-1)) <= (S).)

  2. Seien x_1,...,x_n Erzeuger mit Präsentationsmatrix A.
     Ist dann A' irgendeine Matrix von gültigen Relationen zwischen den x_i,
     so gibt es eine Matrix T mit AT = A'. Das impliziert:

        (Lambda^(n-i) A') <= (Lambda^(n-i) A).

     Somit spielt zumindest die Wahl der Präsentation bei gegebener
     Erzeugerwahl keine Rolle (dazu dieses Argument zweimal verwenden).

  3. Seien x_1,...,x_n Erzeuger mit Präsentationsmatrix A und seien y_1,...,y_m
     irgendwelche weiteren Elemente. Dann gibt es irgendwelche Relationen
     [ A 0 ; B I ] zwischen den x_i,y_j (hier entsprechen die Zeilen
     Relationen, eigentlich sollte ich transponieren). Also ist

        Fitt_i(M; x_1,...,x_n,y_1,...,y_m) >=
        (Lambda^(n+m-i) [ A 0 ; B I ]) =
        (Lambda^(n+m-i) [ A 0 ; 0 I ]) =
        (Lambda^(n-i) A) =
        Fitt_i(M; x_1,...,x_n).

  4. Seien x_1,...,x_n Erzeuger mit Präsentationsmatrix A und seien y_1,...,y_m
     (andere) Erzeuger mit insgesamter Präsentationsmatrix C. Dann:

        Fitt_i(M; x_1,...,x_n,y_1,...,y_m) =
        (Lambda^(n+m-i) C) <=
        (Lambda^(n+m-i) [ C; B I ]) =
        (Lambda^(n+m-i) [ C' 0; B I ]) =
        (Lambda^(n-i) C') <=   (C' sind Relationen der x_i)
        Fitt_i(M; x_1,...,x_m).

     Zusammen mit 3. ergibt das:

        Fitt_i(M; x_1,...,x_m) = Fitt_i(M; x_1,...,x_n,y_1,...,y_m).

     Das genügt.

  In 3. und 4. verwendet:

      (Lambda^(a+b) [ A 0 ; B I ]) = (Lambda^a A),

  wenn I eine (b x b)-Einheitsmatrix ist.

* Fitt_i(M) <= Fitt_(i+1)(M).

  Außerdem Fitt_b(M) = (Lambda^(b-b) A) = (Lambda^0 A) = (1).
  Und, wenn man so möchte, Fitt_{-1}(M) = (Lambda^(b+1) A) = () = (0).

* Fitt_i(M tensor R') = die Idealerweiterung von Fitt_i(M) in R'.

* Wenn M durch n Erzeuger gegeben werden kann, so ist Fitt_n(M) = (1).
  Klar, denn eine mögliche Präsentationsmatrix hat dann ja nur n Zeilen
  und (Lambda^0) = (1).

  Wenn der Grundring lokal ist, gilt auch die Umkehrung! Denn dann finde ich in
  einer Präsentationsmatrix von M mit m Zeilen einen invertierbaren
  (m-n)-Minor. Den kann man nach oben links bringen, sodass M also durch eine
  Präsentation der Form [ I 0 ; 0 ? ] gegeben ist. Die Restmatrix hat dabei
  nur noch n Zeilen.

* Wenn M frei vom Rang n ist, so ist Fitt_{>= n}(M) = (1) und Fitt_{< n}(M) = (0).
  Klar, denn dann ist eine mögliche Präsentationsmatrix die eindeutig bestimmte
  (n x 0)-Matrix.

  Wenn der Grundring lokal ist, gilt auch hier die Umkehrung! Denn dann gilt

      (?) = (Lambda^1(?)) = (Lambda^(1+m-n) [ I 0 ; 0 ? ])
        = Fitt_{n-1}(M) = (0),  also ? = 0.

  Folglich rk(M) <= n genau dann, wenn Fitt_n(M) = (1).
  Dabei ist rk(M) die Minimalzahl benötigter Erzeuger (in einer
  Vervollständigung der natürlichen Zahlen).

* Fitt_0(M) <= Ann(M): Sei N ein quadratischer Ausschnitt aus der
  Präsentationsmatrix (alle Zeilen, aber vielleicht nicht alle Spalten
  umfassend) und det(N) der zugehörige Minor. Dann ist das Bild von

      det(N) * Id = N * ad(N)

  in M Null.

* Ann(M) <= sqrt(Fitt_0(M)), also sqrt(Ann(M)) = sqrt(Fitt_0(M)).

  Denn sei a aus Ann(M) mit M = cok(A), wobei A n Zeilen habe.
  Dann gibt es eine Matrix U mit a I = A U. Auf der Ebene der n-Minoren erhält
  man daher (a^n) <= (Lambda^n A) = Fitt_0(A).

* Sei E ein O_X-Modul lokal von endlicher Präsentation.

  Dann gilt: rk_x(E) = rk E_x <= n für alle x aus D(Fitt_n(E)).
  Beser: rk_x(E) = rk E_x <= n genau dann, wenn x aus D(Fitt_n(E)).
  Stimmt das?

  Denn intern gilt: Fitt_n(E) = (1) ==> rk E <= n.

* V(Fitt_i(M)) ist der Ort derjenigen Punkte x, wo M_x nicht durch i
  Elemente erzeugt werden kann.

* Wenn Fitt_{r-1}(M) = 0, dann ist V(Fitt_r(M)) der Ort, wo M_x nicht
  frei vom Rang r ist.

* Sei der Grundring nicht unbedingt lokal. Dann gilt für einen endlich
  präsentierten Modul trotzdem: M = 0 <==> Fitt_0(M) = (1).
  Ganz einfach wegen Fitt_0(M) <= Ann(M).

* In https://www-fourier.ujf-grenoble.fr/sites/ifmaquette.ujf-grenoble.fr/files/bertin_rev.pdf
  scheint behauptet zu werden (Lemma 1.21 und 1.22): Ist Fitt_n(M) = (1), so ist
  Fitt_(n-1)(M/M[Fitt_n(M)]) = (0). Dabei ist M[Fitt_n(M)] die Menge derjenigen
  x aus M, sodass Fitt_n(M) x = 0.

  Diese Behauptung ist aber falsch. Sei M so, dass Fitt_(n-1)(M) = 0. Das ist
  ja durchaus möglich. Dann ist M[Fitt_n(M)] = M und damit der Quotient Null.
  Desser Fitting-Ideale sind (für n >= 0) alle (1).

  Vielleicht habe ich die Behauptung auch missverstanden.

Werbung für Fitting-Ideale macht unter anderem:
http://swc.math.arizona.edu/aws/2006/06StillmanNotes.pdf


=== Homogene Polynome

* Homogene Polynome in zwei Variablen sind "genauso gut" wie Polynome
  in einer Variablen. Insbesondere zerfallen sie in Linearfaktoren,
  falls der Grundkörper algebraisch abgeschlossen ist.


=== Polynomringe

* Sei A ein Ring. Sei A[X] ein bézoutscher Ring (endlich erzeugte Ideale
  sind Hauptideale). Dann hat A folgende Eigenschaft: Aus regulär folgt
  invertierbar.

  Denn sei a in A regulär. Da (a,X) ein Hauptideal ist, gibt es Polynome d, f,
  g, h, p mit

      d = f a + g X,
      X = h d,
      a = p d.

  Setzt man für X 0, so erhält man

      d(0) = f(0) a,
      0    = h(0) d(0),
      a    = p(0) d(0).

  Da a regulär ist, ist auch d(0) regulär. Somit ist h(0) = 0.
  Also ist h = X h' für ein h', und aus der Gleichung X = h d folgt
  1 = h' d. Setzt man wieder 0 für X ein, so erhält man 1 = h'(0) d(0).
  Also ist d(0) invertierbar. Damit ist auch a invertierbar.

* Allgemein gilt wohl: Genau dann ist A[X] ein Hauptidealring, wenn
  A ein Produkt von Körpern ist.
  http://math.stackexchange.com/questions/91587/ring-of-polynomials-is-a-principal-ideal-ring-implies-coefficient-ring-is-a-fiel
  http://math.stackexchange.com/questions/361258/in-a-principal-ideal-ring-is-every-nonzero-prime-ideal-maximal

  Die Hinrichtung geht so. Wir zeigen, dass A --> prod_m A/m ein Iso ist.
  Zur Injektivität sei ein a aus A gegeben, welches in allen maximalen Idealen
  liegt. Sei also 1-ab für alle b aus A invertierbar. Wir zeigen, dass a = 0.
  Das können wir halmweise testen. Wir dürfen also annehmen, dass A lokal ist.
  ...???

  Zumindest ist klar: Sei A ein lokaler Ring, sodass A[X] bézoutsch ist.
  Dann ist A ein Körper in dem Sinn, als dass nicht-invertierbare Elemente
  schon Null sind. Denn:

  Sei a in A nicht invertierbar. Da (a,X) ein Hauptideal ist, gibt es Polynome
  d, f, g, h, p mit

      d = f a + g X,
      X = h d,
      a = p d.

  Aus 1 = h_0 d_1 + h_1 d_0 folgt, da A lokal ist, dass h_0 d_1 oder h_1 d_0
  invertierbar ist. Im letzten Fall folgt, dass a invertierbar ist; das kann
  nicht sein. Im ersten Fall folgt, dass d_0 = 0 und somit a = 0.

* Ferner gilt: Genau dann ist A[X] ein bézoutscher *Bereich*, wenn A ein
  Körper ist.

  Die Rückrichtung ist klar (Polynomdivision).
  Bei der Hinrichtung folgt zunächst, dass A ebenfalls ein Integritätsbereich
  ist. Außerdem sind reguläre Elemente invertierbar. Somit ist A ein Körper.

* Über dem Ring Z[A_0,...]/(A_0^2,...) hat die Potenzreihe f = sum_i A_i X^i
  zwar nilpotente Koeffizienten, sie ist aber selbst nicht nilpotent. Denn
  der Koeffizient von X^(n*(n+1)/2) in f^(n+1) ist

      (n+1)! * A_0 ... A_n,

  also nicht Null. (Von Matthias Schlüter.)

* Der Wurzelinhalt eines Polynoms f = sum_i a_i X^i ist c(f) := sqrt((a_i)_i).
  Man kann auch für Teilmengen M von A[X] definieren: c(M) := sqrt(sum_{f in M} c(f)).

  Dann kann man zeigen:
  * c(fg) = c(f) * c(g).
  * c(f + g) <= sqrt(c(f) + c(g)).
  * c(M) = c((M))  (erzeugtes Ideal).
  * c(sqrt(I)) = c(I).
  * c(I * J) = c(I cap J) = c(I) cap c(J) = c(I) * c(J).

  So wird also ein Rahmenhomo Rad(A[X]) --> Rad(A) bzw. eine stetige Abbildung
  Spec(A) --> Spec(A[X]) definiert. Auf Punkten schickt diese ein Primideal p
  auf p[X].

  Steht auch in Banaschewski, Polynomials and radical ideals,
  http://www.sciencedirect.com/science/article/pii/0022404995001492 (Prop. 2).


=== Projektoren (Idempotente)

* Sei phi : V --> V ein Projektor (ein idempotenter Morphismus) in einer
  abelschen Kategorie. Dann ist V = ker phi oplus im phi.
  Also cok phi = ker phi.

  Außerdem besitzt der Monomorphismus im(phi) --> V einen Koschnitt,
  nämlich V --phi--> im(phi).

  Das impliziert zum Beispiel, dass für einen Basiswechsel R --> S und eine
  idempotente Matrix P über R gilt: im(P) tensor_R S = im(P tensor_R S).

* Nicht alle endlich präsentierbaren abelschen Gruppen können als Kokern
  eines Projektors geschrieben werden. Denn Kerne von Z-Matrizen (also Kokerne
  von Projektoren) sind ja stets frei. 

* In Ab_fp kann jedes Objekt als Kokern einer injektiven Matrix zwischen
  freien Moduln dargestellt werden. Aber nicht als Kokern einer surjektiven.
  Wenn man freie Moduln kategoriell und selbstdual charakterisieren kann, zeigt
  das, dass Ab_fp^op nicht zu Ab_fp äquivalent ist: In Ap_fp kann nicht jedes
  Objekt als Kern einer surjektiven Abbildung zwischen freien Moduln
  geschrieben werden, in Ab_fp^op dagegen schon.

* Auf jeden Fall gibt es folgendes Unterscheidungsmerkmal: In Ab_fp gibt
  es ein Objekt X, sodass Hom(X, __) : Ab --> Set treu ist. (Nämlich X = ZZ.)
  In Ab_fp^op gibt es das aber nicht.


=== Vektorräume ohne kanonische Basis

* Kerne von linearen Abbildungen

* Kern von exp : O_X --> O_X^*.


=== Cayley--Hamilton

* Beweis über Zariski-Dichtheit:
  http://www.matheplanet.com/matheplanet/nuke/html/article.php?sid=1200


=== Ideale

* a cap b = a * b, falls a + b = (1).

* a cap b = sqrt(a * b), falls a und b Radikalideale sind.
  ">=" ist klar. "<=" auch.

* (a + b)^n = sum_{i+j=n} a^i b^j.

* Hom_R(R/I, R/I) = R/I als R- und als R/I-Moduln.


=== Dreiecksmatrizen

* Eine quadratische Matrix A lässt sich genau dann auf obere Dreiecksform
  bringen, wenn es eine A-invariante Flagge von k^n gibt.

* Hinreichend und notwendig dafür ist, dass das charakteristische Polynom
  von A über k in Linearfaktoren zerfällt. Die Notwendigkeit ist klar. Für die
  andere Richtung startet man mit einem Eigenvektor v, lässt A auf den
  Quotienten k^n/span(v) absteigen und macht weiter.


=== Smithsche Normalform

* Die SNF existiert über (konstruktiv) über allen Ringen, in denen endlich
  erzeugte Ideale Hauptideale sind und für Hauptideale die aufsteigende
  Kettenbedingung erfüllt ist. Und die außerdem (schwache/starke?)
  Integritätsbereiche sind.

* Die SNF existiert aber auch über Ringen, in denen von je zwei Elementen eines
  das andere teilt. Solche müssen nicht noethersch sein.

* Über gerichteten Vereinigungen von Ringen, über denen jeweils die SNF
  existiert, existiert die SNF ebenfalls. Solche Vereinigungen können auch
  nicht noethersch sein, siehe etwa
  http://mathoverflow.net/questions/31275/does-smith-normal-form-imply-pid.

* Ringe, über denen die SNF stets existiert, heißen elementary divisor rings.
  Eine vollständige Charakterisierung gibt Theorem 6 in
  https://www.math.hmc.edu/~henriksen/publications/1956_Gillman_Henriksen_Some_remarks_about_elementary_divisor_rings.pdf.

* Es gibt schicke nichtkonstruktive Beweise der Klassifikation endlich
  präsentierter abelscher Gruppen.
  http://mathoverflow.net/questions/12009/is-there-a-slick-proof-of-the-classification-of-finitely-generated-abelian-group

* Sei A eine (n x n)-Matrix über einem Körper. In erster Näherung legt das
  Spektrum von A -- die Menge der Eigenwerte -- A bis auf Konjugation fest.
  Aber das stimmt natürlich nicht wirklich, da man die Information über die
  Feinstruktur der Jordan-/Weierstraßform verliert.

  Allerdings können wir A bis auf Konjugation aus dem k[x]-Modul k^n_phi
  zurückgewinnen. Dieser hat Träger genau auf ... dem Spektrum! Er ist also
  eine Art verfeinertes Spektrum. Richtig interpretiert, stimmt das sogar dann,
  falls das charakteristische Polynom von A über k nicht in Linearfaktoren
  zerfällt. (Es gilt: supp k^n_phi = { (f) | f irreduzibler Faktor im
  charakteristischen Polynom oder Minimalpolynom von f }.)

  Definiere den schematheoretischen Träger eines Moduls M als V(Ann M),
  wobei Ann M = { s : A | sM = 0 }. Dann ist der schematheoretische Träger von
  k^n_phi gleich V(mu_phi), wobei mu_phi das Minimalpolynom ist. Das folgt
  sofort mit der Smithschen Normalform, denn

      k^n_phi = oplus_i k[X]/(f_i)  mit f_1 | f_2 | ...,

  also

      Ann(k^n_phi) = bigcap_i Ann(k[X]/(f_i)) = bigcap_i (f_i) = (f_r) = (mu_phi),

  somit V(Ann(k^n_phi)) = V(mu_phi) schematheoretisch.


=== Noethersche Ringe

* Polynomringe und Quotienten noetherscher Ringe sind noethersch.
  (klassisch, konstruktiv gut formulieren)

* Also sind alle endlich erzeugten Ringe (Ringe der Form Z[x_1,...,x_n],
  wobei die x_i Ringelemente (und nicht formale Variablen) sind) noethersch.

* Jeder Ring ist gerichteter Kolimes seiner endlich erzeugten Unterringe.
  Also ist jeder Ring gerichteter Kolimes noetherscher Ringe.

* Was sind die kompakten Objekte in der Kategorie der Ringe?


=== Grad des Nullpolynoms

Der Grad des Nullpolynoms sollte -infty (und nicht +infty) sein. Denn sonst stimmt die Regel

    deg(f + g) <= max { deg(f), deg(g) }

nicht: Bedenke 0 = f + (-f). Mit dieser Konvention (aber auch mit +infty)
stimmt auch die Regel

    deg(f * g) <= deg(f) + deg(g).

Außerdem gilt mit dieser Konvention folgende Regel für alle n aus Z:
Ist deg(f) <= n, so lässt sich f in der Form f = sum_{i=0}^n a_i X^i schreiben.


=== Endlichkeitseigenschaften von Moduln

* Sei pi : A^n --> M eine zerfallende surjektive lineare Abbildung.
  Dann ist M ein direkter Summand von pi, ein Iso ist gegeben durch

       A^n  ~~ M + ker pi
         x |-> (pi(x), x - s pi(x))
    s(a)+b <-| (a,b),

  und somit ist ker pi endlich erzeugt. Die Abbildung A^n --> ker pi, x |-> x -
  s(pi(x)) ist (wohldefiniert und) surjektiv.

* Sei phi : M --> A^n eine surjektive lineare Abbildung,
  wobei M endlich erzeugt ist. Dann ist der Kern von phi
  a) ein direkter Summand von M und
  b) somit selbst endlich erzeugt.

  Beweis: Urbilder u_i |-> e_i wählen,
  dann M = ker phi \oplus span(u_i).

  Beweis: Habe eine surjektive lineare Abbildung p : A^m --> M.
  Dann ist (nach dem folgenden) der Kern von A^m --> A^n sogar lokal frei,
  somit insbesondere lokal endlich erzeugt und somit insbesondere tatsächlich
  endlich erzeugt. Das Bild dieses Kerns unter p ist genau ker phi.

* Sei phi : A^m --> A^n eine surjektive lineare Abbildung und
  sei A ein lokaler Ring. Dann ist der Kern von phi frei vom Rang m - n.

  Beweis: Durch Basistrafo kann man die zu phi gehörige Matrix auf die Form
  (Einheitsmatrix | Nullmatrix) bringen.

* Sei phi : A^n --> A^n eine surjektive lineare Abbildung. Dann ist
  phi auch injektiv. Denn sie ist nach dem vorherigen Punkt halmweise injektiv!
  Alternativ: Finde Rechtsinverses. Produktformel für die Determinante sagt,
  dass die Determinante von phi invertierbar ist. Daher ist phi invertierbar.

* Sei phi : M --> M ein surjektiver Endomorphismus eines endlich erzeugten
  A-Moduls M. Dann ist phi ein Isomorphismus.

  Siehe http://math.uga.edu/~pete/integral.pdf, Theorem 3.43: Fasse M als
  A[t]-Modul auf. Sei I das Ideal (t) in A[t]. Dann gilt IM = M. Also gibt es
  nach Nakayama ein Element f(t) aus A[t] mit f(t) = 1 modulo I und f(t) M = 0.
  Somit gibt es ein Polyno g(t)mit 1 - f(t) = g(t) t. Sei nun x mit phi(x) = 0.
  Dann folgt x = (1 - f(t)) x = g(t) t x = g(t) phi(x) = 0.

* Sind in einer kurzen exakten Sequenz die äußeren beiden Moduln frei von
  endlichem Rang, so auch der mittlere.

  Falls der Grundring lokal ist, folgt aus der Freiheit der rechten beiden
  Moduln die Freiheit des linken.

  Aber die Freiheit des Kokerns folgt im Allgemeinen nie.
  Das sieht man etwa schon an Z_(2) --> Z_(2), z |--> 2z.

* Ein Hauptideal (f) von A ist genau dann frei vom Rang 1, wenn f regulär ist.

* Beachte: Familien aus mehr als einem Element in einem nichttrivialen Ring
  können niemals linear unabhängig sein. Leicht: Seien x, y linear unabhängig.
  Dann gilt yx - xy = 0, also y = -x = 0. Dann 1x = 0, also 1 = 0.


=== Kohärente Moduln

* Sind in einer kurzen exakten Sequenz zwei der drei Moduln kohärent,
  so auch der dritte.

* Endlich erzeugte Untermoduln kohärenter Moduln sind kohärent.

* M e.p., N kohärent ==> Hom(M,N) kohärent.

* Ein Ring A ist genau dann kohärent als Modul über sich selbst,
  wenn endlich präsentierte Moduln schon kohärent sind.

* In diesem Fall ist die Unterkategorie der kohärenten Moduln
  die kleinste abelsche Unterkategorie aller Moduln, welche
  die freien Moduln endlichen Rangs (und beliebige Abbildungen zwischen ihnen)
  umfasst.


=== Endlichkeitseigenschaften von Algebren

* Sei eine R-Algebra S als R-Modul endlich erzeugt.
  Dann ist S auch als R-Algebra endlich erzeugt. (Klar.

* Sei eine R-Algebra S als R-Modul frei von endlichem Rang.
  Dann ist S auch als R-Algebra von endlicher Präsentation.

  Sei dazu x_1, ..., x_n eine Basis von S über R.
  Schreibe

      x_i x_j = sum_k a^ij_k x_k,
      1       = sum_k b_k x_k.

  Dann R[X_1,...,X_n]/(X_i X_j - sum a^ij_k X_k, 1 - sum b_k X_k)
  kanonisch isomorph zu S.


=== Endlichkeitseigenschaften von Körpern

* Sei K ein Körper und L = K(x) ein Oberkörper, sodass für ein n
  die Familie 1, x, x^2, ..., x^n ein EZS ist. Dann kann man konstruktiv nicht
  zeigen, dass L als K-VR frei ist. Aber schon, wenn K faktoriell ist!

* Was, wenn man nur irgendein EZS kennt?


=== Injektivität und Surjektivität

Sei M eine quadratische Matrix über einem Ring.

* Wenn M als Abbildung surjektiv ist, ist sie auch injektiv.
  Denn kann ein Rechtsinverses konstruieren; dann folgt aus der
  Multiplikativität der Determinante, dass det(M) invertierbar ist; und daher
  kann man das Inverse von M explizit angeben.

  Der (1x1)-Fall lautet: Invertierbare Ringelemente sind regulär.
  (Denn Surjektivität von A --> A, Multiplikation mit x, ist gleichbedeutend
  mit Invertierbarkeit von x.)

* Die Umkehrung gilt nicht, auch nicht über lokalen Ringen.

  Betrachte etwa den lokalen Ring Z_(2) und die (1x1)-Matrix (2).
  Da Multiplikation mit 2 injektiv ist, ist diese Matrix als Abbildung
  injektiv. Aber Multiplikation mit 2 ist nicht invertierbar.

  Das passt auch dazu, das Liu sonst seine Übungsaufgabe 5.1.13 stärker
  formuliert hätte.

* Es gilt aber (http://www2.math.uu.se/~palmgren/symposium_constructivity_computability/Coquand.pdf, Folie 22):
  
  Eine (n x m)-Matrix A mit n <= m ist genau dann injektiv, wenn Delta_n(A)
  (wohl das Ideal ihrer n-Minoren) regulär ist.


=== Quotientenmoduln

* Sei A ein lokaler Ring. Sei M ein A-Modul frei von endlichem Rang.
  Dann ist die Kategorie der freien Quotientenmoduln von M, die von einem
  festen vorgegebenen Rang sind, sogar schon ein Gruppoid. Denn eine
  lineare Abbildung Q --> Q' über M ist automatisch surjektiv und hat (da A
  lokal) somit trivialen Kern, ist also auch injektiv.

* Sei ein Diagramm der Form

      A  --> B  --> C --> 0  (exakt)
             |
             v
             B' --> C'

  gegeben. Dann existiert genau dann ein Morphismus C --> C', der das rechte
  Quadrat kommutieren lässt, wenn die Komposition A --> B --> B' --> C' Null ist.
  Das liegt einfach an der Linksexaktheit von Hom(__, C').


=== Eigenvektoren

* Sei det(M) = 0. Unter welchen Voraussetzungen gibt es dann einen
  Vektor v im Kern von M, welcher (in welchem Sinn?) nichttrivial ist?

  Anwendung: M könnte eine fast-komplexe Struktur auf einer Mannigfaltigkeit
  sein.


=== Ganzheit

* Sei A --> B ein Ringhomo. Dann sind äquivalent:

  (1) B endlich über A.
  (2) B ganz und als Algebra endlich erzeugt über A.

  Beweis:
  (1) ==> (2): Ganzheit folgt aus Cayley-Hamilton.
  (2) ==> (1): Brauche wegen Ganzheitsgleichungen nicht beliebige Potenzen der
  Erzeuger.

* Sei B als Modul endlich über A. Sei A in B ganz abgeschlossen. Dann ist B = A:
  Sei z in B. Dann ist z Nullstelle des charakteristischen Polynoms einer
  Matriz zur linearen Abbildung x |--> zx. Also liegt z in A.

* Sei phi : A --> B ein injektiver Ringhomo. Sei x aus A.
  Sei phi(x) invertierbar und sei phi(x)^(-1) ganz über A.
  Dann ist x auch invertierbar in A.

* Mit Noether-Normalisierung folgt: Sei A endlich erzeugte Algebra über einem
  Körper k und m ein maximales Ideal in A. Dann ist A/m eine endliche (!)
  Erweiterung von k.

* Sei Z ein Ring und S ein multiplikatives System.
  Sei Q := Z[S^(-1)].
  Sei Q --> A ein ganzer Ringhomo.
  Dann habe den Ring O_A derjenigen Elemente aus A, die eine Ganzheitsgleichung
  über Z erfüllen. Da jedes Element x aus A von der Form ux/u ist, wobei u ein
  Element aus S und ux ein Element aus A ist, das ganz über Z ist, ist

      O_A[S^(-1)] --> A

  ein Iso.

  Insbesondere sind also die Quotientenkörper von Ganzheitsringen von endlichen
  Erweiterungen K von Q wieder gleich K.


=== Torsion

* M_tors = { x : M | exists a. a regulär und ax = 0 }.

* M torsionsfrei :<==> M_tors = 0.

* M Torsionsmodul :<==> M = M_tors.

* M Torsionsmodul <==> M tensor_A A[reg^(-1)] = 0 <==> M[reg^(-1)] = 0.

* M^ ist stets torsionsfrei.

* M reflexiv ==> M torsionsfrei.

* A/(d) Torsionsmodul <==> 1 \in A/(d) Torsionselement <==> d regulär.

* A/(d) torsionsfrei <== d = 0 oder d inv.
  Falls A starker Integritätsbereich ist, gilt auch "==>".

* Eine direkte Summe ist genau dann torsionsfrei, wenn alle Summanden
  torsionsfrei sind. Genauso mit Torsionsmoduln.

* Angeblich: M endlich präsentiert ==> M^ reflexiv.

* Angeblich: Kerne von linearen Abbildungen zwischen endlich freien Moduln sind
  reflexiv.


=== Skalareinschränkung und Skalarerweiterung

Sei phi : A --> B ein *surjektiver* Ringhomo.

Sei M ein B-Modul. Dann ist M \otimes_A B kanonisch B-isomorph zu M.
(So wird vermutlich B-Mod eine volle Unterkategorie von A-Mod.)

Folgendes stimmt aber nicht: Sei N ein A-Modul. Dann ist N \otimes_A B
kanonisch A-isomorph zu N.


=== Zusammenhang zu Vektorbündeln

Prop. (Thm. 7.22 in http://math.uga.edu/~pete/integral.pdf):
    Sei M ein A-Modul. Dann sind äquivalent:
    (1) M ist endlich erzeugt und projektiv.
    (2) Es gibt eine Zerlegung 1 = \sum_i f_i der Eins, sodass
        jeder Modul M_(f_i) ein freier A_(f_i)-Modul endlichen Rangs ist.

Also: M~ lokal frei <==> M erfüllt (2) <==> M erfüllt (1).

Außerdem: Ein Modul mit (1) ist automatisch auch endlich präsentiert. Denn ist
pi : A^n --> M eine Surjektion, so ist ker(pi) ein direkter Summand von A^n,
daher ein Quotient von A^n und somit endlich erzeugt.

Die Proposition stimmt auch völlig konstruktiv. Hier ist ein Beweis.

(1) ==> (2). M ist Kokern einer idempotenten Matrix P. Lokal ist diese von der
Form diag(1,...,1,0,...,0). Also ist M lokal endlich frei.

(2) ==> (1). M ist lokal endlich erzeugt, also endlich erzeugt. Sei A^n --> M
eine Surjektion. Ihr Kern ist lokal endlich erzeugt, da M lokal endlich
präsentiert sind. Also ist ihr Kern auch global endlich erzeugt. Somit ist M
endlich präsentiert.

Damit vertauscht Hom(M, __) mit Lokalisierung.

Sei nun X --> Y eine surjektive Abbildung. Wir wollen zeigen, dass
Hom(M, X) --> Hom(M, Y) surjektiv ist. Lokal ist das klar.


Es gibt auch folgende Äquivalenz:

(a) Jede idempotente Matrix ist äquivalent zu einer Diagonlmatrix mit Einträgen 0 und 1.
(b) Jede idempotente Matrix ist ähnlich zu einer Diagonlmatrix mit Einträgen 0 und 1.
(c) Jeder lokal endlich freie Modul ist endlich frei.

(a) ==> (b): Klar. Finde nämlich Basen von ker(P) und im(P).

(b) ==> (c): Lokal endlich freie Moduln sind Kokerne (oder Kerne, oder Bilder)
von idempotenten Matrizen.

(c) ==> (a): Nach Voraussetzung sind ker(P) und im(P) endlich frei. Finde also
Basen. Fertig.


=== Dualisieren

* Habe stets Hom_A(M, N) --> Hom_A(N^, M^).
  Wenn die kanonischen Abbildungen M --> M^^ und N --> N^^ Isos sind,
  ist das ebenfalls ein Iso.

* Falls M frei von endlichem Rang ist, ist M --> M^^ ein Iso.


=== Länge von R-Moduln

Definition: len M = sup { n | ex. U_0 < ... < U_n <= M Kette von Untermoduln }.
Kann oBdA fordern U_0 = 0, U_n = M.

Beispiele:
* Falls M Vektorraum über einem Körper: len M = dim M.
* len M = 0  <==>  M = 0.
* len M = 1  <==>  M einfach.
* len R kann unendlich sein, etwa für R = Z.

Proposition: Sei 0 --> M' --> M --> M'' --> 0.
Dann len M < infty <==> len M', len M'' < infty und
die Länge verhält sich additiv.

Beispiel: Sei R ein Hauptidealbereich. Dann ist die Länge von R/(a)
gleich der Gesamtzahl irreduzibler Faktoren in a.
(Bem.: R-Untermoduln von R/(a) sind dasselbe wie Ideale des Rings R/(a).)

Proposition: Sei A ein noetherscher lokaler Ring und zugleich eine Algebra über
einem Körper k. Sei M ein endlich erzeugter A-Modul.
Dann gilt len_A(M) * dim_k(A/m) = dim_k(M). (Liu Ex. 7.1.6, Seite 264)

Sei A --> B ein surjektiver Ringhomo. Sei M ein B-Modul. Dann ist seine Länge
als B-Modul gleich seiner Länge als A-Modul.


=== Einfache Moduln

Da ich nicht weiß, was eine "gute" Definition von Einfachheit in einem
konstruktiven Kontext ist, kann ich das Folgende nur klassisch behaupten.

Proposition: Sei M ein einfacher A-Modul. Dann ist M unkanonisch isomorph zu
A/m für ein maximales Ideal m.

Beweis: Habe ein x in M, x ungleich null. Erhalte A --> M. Erhalte A/ker --> M.
Muss ein Iso sein. Ferner folgt, dass der Kern schon ein maximales Ideal sein
muss.


=== Lokalisierung

* Sei A ein Ring, p ein Primideal und x in A. Dann:

      x regulär in A_p <==> [xy = 0 in A ==> ex. z \not\in p: zy = 0] f.a. y

* Sei iota : A --> A[S^(-1)] die Lokalisierung an einem *saturierten* multiplikativ
  abgeschlossenen System (d.h. xy in S ==> x in S und y in S). Dann ist iota(x)
  genau dann invertierbar, wenn x in S liegt. (Sonst gilt nur "<==".)

* Der kanonische Morphismus iota : A --> A[S^(-1)] ist genau dann ein
  Isomorphismus, wenn alle Elemente aus S invertierbar sind.

* Ein Element x aus A ist genau dann in A[f^(-1)] invertierbar, wenn
  f in sqrt((x)).

* Die Menge der regulären Elemente eines Rings ist immer ein saturiertes
  multiplikativ abgeschlossenes System.

* M[S^(-1)] ist der filtrierte Kolimes von folgendem System:

      Indexkategorie:

          Objekte s \in S, Morphismen: Hom(s,t) = { u in S | t = su }.

      Diagramm:

          s |--> M
          u |--> (M --> M, Multiplikation mit u).

  Speziell für S = { f^0, f^1, ...} ist die Lokalisierung also der Kolimes von

      M ---> M ---> M ---> ...   (jeweils Multiplikation mit f).

  Insbesondere:

      Hom_A(A[f^(-1)], M) ~~ { (x_0,x_1,...) | x_i in M, x_n = f x_{n+1} }.

* Gehört hier nicht hin, aber trotzdem:

      Hom_A((f), M) ~~ { u in M | forall h:A. hf = 0 ==> hu = 0 }

* Sei (s_i) eine Zerlegung der Eins in einem Ring A. Dann ist A der
  inverse Limes von A[s_i^(-1)] --> A[s_i^(-1), s_j^(-1)]. (Sagt Lombardi in
  Oberwolfach2.pdf. Außerdem ist es recht klar, da das eigentlich nur die
  bekannte Differenzkernbedingung an die Strukturgarbe von Spec A ist.)

  Als Korollare erhält man: Nullheit und Invertierbarkeit von Ringelementen
  kann man lokal testen; Elemente kann man lokal angeben; Ringhomos kann man
  lokal konstruieren.

  Außerdem kann man viele Eigenschaften lokal testen; Lombardi gibt unter
  anderem an: Kohärenz, Normalität, Prüferität, (bei Algebren) endlich erzeugt,
  endlich präsentiert, glatt, unverzweigt, ...

  Analoges gilt für Moduln und für Rahmen/distributive Verbände.

* Sei S eine multiplikativ abgeschlossene Menge in einem Ring A. Dann ist

      Sat(S) := { x in A | XXX }

  ihre Saturierung, d.h. die kleinste multiplikativ abgeschlossene und
  saturierte Menge, welche S umfasst.

  Im Spezialfall S = { f^0, f^1, ... } ist Sat(S) = { x | f in sqrt(x) }.


=== Lokale Ringe

* Sei (A,m) lokal. Dann ist A --> A/m ein lokaler Homo:

  Sei [x] in A/m invertierbar. Dann gibt es y in A mit xy - 1 in m.
  Da A lokal ist, ist xy oder 1-xy invertierbar. Also Fall 1. Also ist x
  invertierbar.

* Sei (A,m) ein lokaler Ring. Sei M ein freier A-Modul vom Rang 1.
  Sei s in M. Dann gilt:

      A --s--> M ist genau dann ein Iso, wenn s != 0 in M/mM.

  "==>" ist klar, tensoriere.
  "<==" folgt durch Betrachtung der Determinante dieser Abbildung: Diese wird
  nämlich invertierbar nach Tensorieren mit A/m.

  Damit folgt: Sei s ein globaler Schnitt eines Geradenbündels L.
  Dann s_x : O_{X,x} --> L_x genau dann ein Iso, wenn s != 0 in L|_x.

* http://www.math.iitb.ac.in/atm/caag1/jayanthan.pdf

* Jacobi-Kriterium impliziert Regularität, unter gewissen Voraussetzungen:
  Computational Methods In Commutative Algebra And Algebraic Geometry, Seite 131.

* Sei M ein endlich-erzeugter A-Modul, A lokaler Ring.
  Dann gilt: Hom_A(M, A/m) = 0 ==> M = 0.

  Denn: Wähle eine (A/m)-Basis von M/mM. Dann habe die Dualbasisabbildungen
  M/mM --> A/m. Nach Voraussetzung sind die aber alle Null (M --> M/mM ist ja
  surjektiv). Also ist die Basis leer. Damit sind M/mM und M Null.

* Sei M ein A-Modul, A lokaler Ring. Ist M frei, so ist Ext^1(M, A/m) = 0.
  Klar, denn dann ist M projektiv.

  Die Umkehrung gilt ebenfalls, falls M endlich erzeugt und A noethersch ist.
  Denn dann folgt aus einer kurzen exakten Sequenz 0 --> K --> A^n --> M --> 0,
  dass 0 --> Hom(M, k) --> Hom(A^n, k) --> Hom(K, k) --> 0 exakt ist.

  Die Einschränkung einer Abbildung A^n --> k auf m A^n (insbesondere auf K,
  denn K <= m A^n) ist Null. Also ist Hom(K, k) = 0. Also ist, nach dem
  vorherigen Punkt, K = 0. Hier geht ein, dass A noethersch ist: Denn sonst
  wüssten wir nicht, dass K wieder endlich erzeugt ist.

* Sei I ein endlich erzeugtes idempotentes Ideal eines lokalen Rings A.
  Dann ist I = (0) oder I = (1). Denn nach dem Lemma von Nakayama, angewendet
  auf den A-Modul I und das Ideal, gibt es ein a aus A mit a = 1 mod I und a I = 0.
  Da A lokal ist, ist a invertibar oder 1-a invertierbar. Im ersten Fall ist I = (0),
  im zweiten I = (1).

* Sei M ein endlich erzeugter projektiver Modul über einem lokalen Ring A.
  Dann ist M Kokern einer idempotenten Matrix P. Die Gleichung P^2 = P
  überträgt sich auf Lambda^i(P). Also sind alle Fitting-Ideale von P
  idempotent, somit jeweils (0) oder (1). Also ist M frei von einem gewissen
  Rang.

  Der Beweis zeigt auch, dass P über Zeilen- und Spaltenumformungen auf die
  Form diag(1,...,1,0,...,0) gebracht werden kann. Eigentlich sollte doch auch
  noch mehr drin sein, oder nicht? Ja. Finde dadurch nämlich explizit eine
  Basis von ker(P) und im(P) und damit von A^n. Bezüglich dieser Basen im
  Quell- *und* Zielraum hat P auch die Form diag(1,...,1,0,...,0).


=== Äußere Algebra

* Habe Lambda^(n+1) R^n = 0 konstruktiv, aus rein kombinatorischen Gründen.

* Habe Lambda^n R^n --> R (Iso) konstruktiv, vermöge der Determinante.

* Sei 0 --> F' --> F --> F'' --> 0 exakte Sequenz freier Moduln.
  Dann habe (det F') tensor (det F'') --> det F Iso, explizit gegeben durch

      x_1 ^ ... ^ x_n  tensor  y_1 ^ ... ^ y_m
          |--> i(x_1) ^ ... ^ i(x_n) ^ a_1 ^ ... ^ a_m,
              wobei p(a_j) = y_j (Wahl spielt keine Rolle).

* Die Determinante verhält sich multiplikativ in exakten Sequenzen
  freier Moduln. (Siehe auch Vakil, 13.5.H, "determinant line bundles behave
  well in exact sequences".)

* Habe eine Filtrierung auf Lambda^r(F), wenn F der Mittelteil einer kurzen
  exakten Sequenz ist. Siehe Vakil, aber noch prüfen, insbesondere auf
  konstruktive Zulässigkeit.

* Habe Lambda^i(V) tensor W^(tensor i) --> Lambda^i(V tensor W),
  falls W vom Rang 1. Diese Abbildung bildet die offensichtliche Basis
  auf die offensichtliche Basis ab und ist daher ein Iso.

* http://www.math.uni-bielefeld.de/~hkrause/koszul.pdf über äußere Algebra,
  symmetrische Algebra usw. Außerdem wie man diese Algebren richtig definiert:
  http://math.stanford.edu/~conrad/diffgeomPage/handouts/tensor.pdf

* Habe in jeder Charakteristik natürliche lineare Abbildungen

      Lambda^n V^ --> (Lambda^n V)^
           S^n V^ --> (S^n V)^,

  gegeben durch die Determinante bzw. Permanente (d.h. durch geeignet
  gewichtete Summen über alle Permutationen). Die erste Abbildung ist stets ein
  Iso (falls V endlich frei). Die zweite nicht.

* Ziemlich sicher gilt: Lambda^n_A M tensor_A A/J = Lambda^n_{A/J}(M tensor_A A/J).
  Sogar für allgemeine Skalarerweiterungen. Siehe zum Beispiel
  http://therisingsea.org/notes/TensorExteriorSymmetric.pdf.


=== Verklebung von Modulkategorien

Siehe Tag 05N9 im Stacks-Projekt: Die Kategorie der R-Algebren ist der Kolimes
der Kategorie der R_i-Algebren, wenn R = colim_i R_i ein filtrierter Kolimes
von Ringen ist.
  

=== Duale Zahlen

Sei A ein Ring. Dann heißt A[eps]/(eps^2) der Ring der dualen Zahlen über A.

* a + b eps ist genau dann invertierbar, wenn a invertierbar in A ist.

  Das Inverse ist dann a^(-1) - a^(-2) b eps.

* Ist A lokal, so auch A[eps]/(eps^2). Die Umkehrung gilt auch.

* Siehe deformationen.txt für Flachheit über A[eps].


=== Freiheit und Flachheit über Z

* Eine Z-Algebra K, die ein Körper der Charakteristik != 2 ist, kann nicht frei
  sein. Sei b eines der Basiselemente. Stelle dann b/2 über die Basis dar. Dann
  multipliziere mit 2. Auf der rechten Seite steht dann eine gerade Anzahl b's.
  Bringe das b von der linken Seite auf die rechte. Dann steht eine
  nichttriviale Relation da (da die Anzahl b's ungerade ist).

  (Körper mit Charakteristik 2 sind natürlich auch nicht frei.)

* Daher ist auch kein Körper mit Char. != 2 projektiv über Z:
  Denn Untermoduln freier Z-Moduln wären frei. [Kann man das auch konstruktiv zeigen?]

* Q ist flach über Z: Sei a^T m = 0, a aus Z^p, m aus Q^p. Dann finde ein u
  aus Z\{0} mit u*m in Z^p. Dann gilt a^T (u*m) = 0 und (u*m) * (1/u) = m.

* Daher ist jeder Körper K der Charakteristik 0 flach über Z: Habe Z --> Q --> K.
  Q ist flach über Z (von oben) und K ist flach über Q, da Q ein Körper ist.

* Allgemeine Bemerkung: Surjektive Ringhomos sind im Allgemeinen NICHT flach.
  Gegenbeispiel: Z --> Z/(2).

* Z/(n) ist nicht flach über Z, denn zum Beispiel bleibt die Injektion
  Z --> Q unter Tensorieren mit Z/(n) nicht injektiv.


=== Projektive Moduln

* Über die Charakterisierung von projektiven Moduln als direkte Summanden
  freier Moduln kann man leicht zeigen: Das Tensorprodukt projektiver Moduln
  ist wieder projektiv.

* Ist A ein nichtkommutativer Ring und e ein idempotentes Element, so ist
  Ae ein projektiver A-Links-Modul. Das kann man direkt sehen oder daran
  festmachen, dass Ae ein direkter Summand von A ist: A = Ae oplus A(1-e).

* Unterschied zu reflexiven Moduln: http://mathoverflow.net/a/7588
  As you say, a finite projective module is the same as a locally free sheaf on
  Spec R. Similarly, a finite reflexive module is the same as the push forward
  of a locally free sheaf from an open subset U of Spec R whose complement has
  codimension ≥2.

  http://mathoverflow.net/questions/7490/differences-between-reflexives-and-projectives-modules

* Ein A-Modul M ist genau dann projektiv und endlich erzeugt, wenn
  es Elemente x_1,...,x_n aus M und eta_1,...,eta_n aus M^ mit
  x = sum_i eta_i(x) x_i für alle x aus M gibt. ("Dual basis lemma")
  (Automatisch folgt dann für eta aus M^: eta = sum_i eta_i eta(x_i).
  Denn setzt man in die rechte Seite ein beliebiges x ein, so erhält man:
  sum_i eta_i(x) eta(x_i) = sum_i eta(eta_i(x) x_i) = eta(sum_i eta_i(x) x_i) =
  eta(x). Nicht folgen tut eta_i(x_j) = delta_ij. Deswegen müssen weder die x_i
  noch die eta_i linear unabhängig sein.)

  Eine Richtung zeigt man so: Gegebene Erzeuger induzieren eine surjektive
  Abbildung A^n -pi-> M. Wegen der Projektivität besitzt die
  Identitätsabbildung auf M einen Lift -- eine Abbildung rho : M --> A^n
  mit pi . rho = id. Setze dann eta_i := pi_i . rho.

  Als Folge ist übrigens M --> M^^ injektiv.

  Die andere Richtung geht so: Sei M mit x_i und theta_i. Sei f : T --> S
  eine A-lineare Surjektion. Sei g : M --> S. Wähle Urbilder f(t_i) = g(x_i).
  Dann definieren wir den Kolift

      g'(x) := sum_i theta_i(x) t_i.

  Dann gilt nämlich in der Tat f(g'(x)) = sum_i theta_i(x) f(t_i) =
  g(sum_i theta_i(x) x) = g(x).

* Sei M ein A-B-Modul. Dann sind folgende Aussagen äquivalent:
  1. Für einen B-A-Modul N gilt M -| N in der 2-Kategorie der Ringe
     (M : B -> A, N : A -> B).
  2. Für einen B-A-Modul N gibt es

          eps : N tensor_A M --> B  (B-B-linear)
          eta : A --> M tensor_B N  (A-A-linear)

     mit Meps . etaM = id_M und etaN . Neta = id_N.
  3. Für einen B-A-Modul N gibt es

          x_1, ..., x_n aus M und
          theta_1, ..., theta_n aus N und
          eps : N tensor_A M --> B  (B-B-linear)

     mit x = sum_i x_i eps(theta_i tensor x) und
     theta = sum_i eps(theta tensor x_i) theta_i für alle x aus M und theta aus N.
  4. Dieselbe Aussage wie in 3., nur mit N := Hom_B(M,B) und eps = ev.

  Zu 2 ==> 3: Erhalte die x_i und theta_i durch Betrachtung von eta(1).
  Zu 3 ==> 4: Habe den Iso N --> Hom_M(M,B) mit theta |-> eps(theta tensor __)
  und Umkehrung phi |-> sum_i phi(x_i) theta_i.

  All diese Aussagen sind ferner äquivalent dazu, dass M als Rechts-B-Modul
  endlich erzeugt und projektiv ist. Und übrigens ist die Äquivalenz 1,2,3 <==> 4
  einfach Spezialfall des allgemeinen Lemmas, dass Rechtsadjungierte durch
  Rechts-Kan-Erweiterung der Identität gegeben sind!

* Ist M projektiv und endlich erzeugt, so ist auch M^ projektiv und
  endlich erzeugt, und M --> M^^ ist sogar ein Iso.

* Ist M projektiv, so ist M direkter Summand eines freien Moduls.
  Also ist M Kokern einer idempotenten linearen Abbildung zwischen freien
  Moduln (d.h. einer Projektion!), nämlich von (id - iota . pi), wenn
  pi : A^(I) --> M und pi . iota = id.

  Beachte: cok P = ker P = im (Id - P).

  Auch die Umkehrung stimmt: Wenn M = cok P, P^2 = P, P linear zwischen freien
  Moduln, dann A^n = ker(1-P) oplus im(1-P) = ker(1-P) oplus cok(P).

* Endlich präsentierte flache Moduln sind projektiv. (Umgekehrt sind projektive
  Moduln stets flach.)
  http://cupid.economics.uq.edu.au/mclennan/Algebra/fac_trans.pdf, Thm. B9.11,
  Seite 90.


=== Flache Moduln

* Sei M ein endlich erzeugter flacher Modul über einem lokalen Ring.
  Dann besitzt jedes Erzeugendensystem eine Unterfamilie, welche eine Basis
  ist.
  http://cupid.economics.uq.edu.au/mclennan/Algebra/fac_trans.pdf, Prop. D5.2,
  Seite 140.

* Ein Modul ist genau dann flach, wenn er filtrierter Kolimes von freien Moduln ist.

  "<==": Filtrierte Kolimiten von freien (insb. flachen) Moduln sind
  flach, da das Tensorprodukt mit beliebigen (insb. filtrierten) Kolimiten
  verträglich ist und filtrierte Kolimiten von kurzen exakten Sequenz wieder
  exakt sind (in Modulkategorien).

  "==>": Angeblich ist M stets auf kanonische Weise der Kolimes aller endlich
  freien Moduln F --> M; und falls M flach ist, ist dieses System filtriert.
  Das behauptet Akhil Mathew in http://math.stackexchange.com/a/113112/61604,
  ich sehe das aber nur, wenn man schon hier die Flachheit von M voraussetzt.
  * Um die universelle Eigenschaft des Kolimes nachzuweisen, seien
    kompatible a_phi : F_phi --> V für alle phi : F --> M gegeben.
    Definiere psi : M --> V durch x |-> a_phi(u), wobei phi : F --> M
    beliebig mit der Eigenschaft phi(u) = x ist. Das ist wohldefiniert.

  Das nLab führt folgenden Beweis an: Betrachte die Partialordnung aller
  (Kuratowski-)endlichen Mengen (nicht Familien!) von Elementen in M. Diese ist
  filtriert (d.h. gerichtet) und induziert das Diagramm (X <= M) |-> R<X>.
  Es ist M ein Kolimes dieses Diagramms.

* Sei J endlich erzeugt. Dann sind äquivalent:

  1. A/J ist flach über A.
  2. J = J^2.
  3. J = (e) für ein e aus A mit e^2 = e.

  1 ==> 2 gilt sogar ohne Endlichkeitsvoraussetzung: Die exakte
  Sequenz 0 --> J --> A --> A/J --> 0 bleibt unter Tensorieren mit A/J exakt,
  also erhalten wir 0 --> J/J^2 --> A/J --> A/J --> 0. Die vordere Abbildung
  ist Null. Also J/J^2 = 0.

  2 ==> 3 geht mit Nakayama. J ist als A-Modul endlich erzeugt und es gilt JJ = J.
  Also existiert x mit x = 1 mod J und xJ = 0. Dann J = (1-x), denn für y aus J
  gilt y = y - xy = (1-x) y. Ferner (1-x)^2 = (1-x) - (1-x) x = 1-x.

  3 ==> 1 folgt sofort, da A sich als A/(e) oplus A/(1-e) zerlegt und A flach
  ist.

* Sei phi : A --> B flach. Dann sind äquivalent (Qing Liu):

  1. phi ist treuflach.
  2. Spec(phi) ist surjektiv.
  3. Jedes maximale Ideal von A ist Rückzug eines maximalen Ideals von B.

  Wegen 3. sind insbesondere flache lokale Ringhomos zwischen lokalen Ringen
  stets treuflach.

  Anders: Spec(phi) ist flach und surjektiv genau dann, wenn phi (flach und)
  treuflach ist.


=== Tensorprodukt

* Tensorieren ist exakt, wenn der rechteste Modul flach ist
  Klar mit Tor.

  http://www.math.lsa.umich.edu/~hochster/615W10/supFlatCoker.pdf

* R/(I + J) ~~ R/I tensor_R R/J.

* M tensor_A N ~~ A tensor_{A tensor_k A} (M tensor_k N),
  wenn k ein Körper, A eine k-Algebra und M und N A-Moduln sind.

* k[x] tensor_k k[y] = k[x,y] folgt wie folgt aus abstraktem Nonsens:
  Der Vergissfunktor k-Alg --> Set hat einen Linksadjungierten, nämlich
  X |-> k[X] := k[x | x aus X]. Dieser bewahrt daher Kolimiten.
  Somit ist k[x,y] = k[{x,y}] der Kolimes von k[x] mit k[y]. Nun nutzt man noch
  aus, dass Kolimiten durchs Tensorprodukt gegeben sind.


=== Nakayama

* Sei A ein lokaler Ring und M ein endlich erzeugter A-Modul.
  Dann:
      minimale Anzahl von A-Erzeugern von M
    = minimale Anzahl von k-Erzeugern von M/mM.

  Denn:
  1. Sei M durch x_1,...,x_n erzeugt als A-Modul. Dann wird M/mM durch
     [x_1],...,[x_n] als k-Vektorraum erzeugt.
  2. Sei M/mM erzeugt durch [x_1],...,[x_n] als k-Vektorraum.
     Dann wird M nach Nakayama durch x_1,...,x_n als A-Modul erzeugt.

* In http://math.uga.edu/~pete/integral.pdf, Prop. 3.44, steht folgende
  Verallgemeinerung von Nakayama: Sei I ein Ideal in einem Ring A und sei M ein
  endlich erzeugter A-Modul. Dann gilt I + ann(M) = A genau dann, wenn IM = M.

* Sei M endlich erzeugt. Gelte aM = M. Dann gibt es ein normiertes Polynom f
  mit Einträgen aus gewissen Potenzen von a, sodass f(1) M annihiliert. Es gilt
  f(1) = 1 mod a.

  Seien x_1,...,x_n Erzeuger. Schreibe x_i = sum_j a_ij x_j mit a_ij aus a.
  Setze f als das charakteristische Polynom von A. Dann:

      f(1) * [x_1;...;x_n] = det(E-A) [x_1;...;x_n] =
          ad(E-A) (E-A) [x_1;...;x_n] = ad(E-A) * 0 = 0,

  denn [x_1;...;x_n] = A [x_1;...;x_n].


=== Invariant Basis Number, Wohldefiniertheit des Rangs

Konstruktiver Beweis für R^n ~~ R^m ==> n = m oder 1 = 0 (R kommutativ):

Fred Richman. Nontrivial uses of trivial rings. 1988.
http://www.ams.org/journals/proc/1988-103-04/S0002-9939-1988-0954974-5/S0002-9939-1988-0954974-5.pdf


=== Matrizen über nichtkommutativen Grundringen

Sei R nicht unbedingt kommutativ.

* R^n (Spaltenvektoren) sollte man als Rechts-R-Modul ansehen.
* R_n (Zeilenvektoren)  sollte man als Links-R-Modul ansehen.

* R^n --> R^m, x |-> Ax ist Rechts-R-linear.
* R_m --> R_n, y |-> yA ist Links-R-linear.

* End(R^n) = R^(n x n), wie gewohnt.
* End(R_n) = R^(n x n, op)!


=== Krulldimension

* Es gilt: dim R/(a) < dim R, falls a regulär; kann das einfach mit der
  konstruktiven Definition von Krulldimension nachweisen.

* Sei 0 --> M' --> M --> M'' --> 0 exakt.

  Dann Ann(M) <= Ann(M') cap Ann(M'') und Ann(M') * Ann(M'') <= Ann(M),
  also sqrt(Ann(M)) = sqrt(Ann(M')) cap sqrt(Ann(M'')).

* dim A/I = dim A/sqrt(I), da allgemein dim A = dim A/sqrt(0).

* Ich erwarte dim(M) <= n genau dann, wenn dim(M') <= n und dim(M'') <= n.

  Das würde aus dim A/(I cap J) <= n genau dann, wenn dim A/I <= n und dim A/J <= n folgen.

  Hintergrund: Unterkategorie der kohärenten Garben mit Kodimension des Trägers >= i
  ist Serresche Unterkategorie (siehe Marco Schlichting, Higher Algebraic
  K-Theory, Seite 211).

* Krull-Dimension 0 impliziert nicht Noetherizität: Betrachte
  R = k[x_1,...]/(x_1, x_2^2, x_3^3, ...). In diesem Ring ist jedes Element
  nilpotent, also hat der Ring Krull-Dimension <= 0. Aber das Ideal
  m = (x_1, x_2, ...) ist nicht endlich erzeugt.
  http://math.stackexchange.com/a/806933/61604

* A --> B surjektiv, dann dim(B) <= dim(A). Stimmt das?


=== Reguläre Ringe

* http://www2.math.uu.se/~palmgren/symposium_constructivity_computability/Coquand.pdf,
  Folie 11

* Ein Ring heißt dort genau dann regulär, wenn jedes endlich erzeugte Ideal
  eine endliche freie Auflösung besitzt.

* Idee: Lokale Ringe an glatte Punkte algebraischer Varietäten sind regulär.

* R noethersch und regulär ==> R UFD.
* R regulär ==> R hat ggT's.

* Coquand zeigt, wie man aus einer Präsentation eines Ideals der Form

      0 --> R^n --> R^(n+1) --> (a_0,...,a_n) --> 0

  folgern kann, dass die a_i einen ggT haben, welcher zudem regulär ist.

* Eine endliche freie Auflösung eines Ideals I definiert eine
  Euler-Charakteristik als alternierende Summe der Ränge.

  Laut Coquand besagt Vasconcellos Theorem, dass:
  chi = 0 ==> I = 0.
  chi = 1 ==> I ist regulär.
  sonst   ==> 1 = 0 in R.

* Coquand, Quitté. Constructive finite free resolutions.
  http://link.springer.com/article/10.1007%2Fs00229-011-0466-5


=== Freie Moduln

* Ist R ein Integritätsbereich in dem jedes Ideal ein Hauptideal ist,
  so sind Untermoduln endlich freier Moduln über R wieder endlich frei.
  (klassisch, vielleicht auch bei geeigneter Formulierung konstruktiv)

  Beweis steht in D. Northcott, Finite Free Resolutions, Seite 96.


=== Purity filtration

* eps : M --> M^^ weder injektiv noch surjektiv, im Allgemeinen.

* coim(eps) ist der letzte Teil einer aufsteigenden Filtration von M.

* Sei t_{-c}(M) der größte Untermodul von Kodimension >= c. Dann heißt

    ... <= t_{-2}(M) <= t_{-1}(M) <= t_0(M) = M

  die purity filtration von M.

* Es gilt: t_{-1}(M) = ker(eps).

* Die anderen Schritte kann man erhalten, wann die Abbildung von M
  in den doppelt deriviert-dualen Modul betrachtet.
  http://homalg.math.rwth-aachen.de/~barakat/talks/purity.pdf


=== Siehe auch

* http://math.uga.edu/~pete/integral.pdf
