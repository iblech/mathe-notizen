=== Motivation für Örtlichkeiten

1. Firstly, to still possible fears, they are not too dissimilar from
topological spaces: The full subcategory of sober topological spaces is
canonically equivalent to the full subcategory of "spatial" locales.

2. Locales feel more "algebraic" than topological spaces. Many proofs in
locale theory proceed by algebraic calculations. (Incidentally, this
item gives some reason that the translation "Örtlichkeit" (as opposed to
"Lokal") doesn't capture all nuances of the original English term.
"Örtlichkeit" doesn't sound very algebraic, whereas "Lokal" does (cf.
"Monade", "Monoid", "Quantal", ...).)

3. Locales are a convenient intermediate concept between topological
spaces and fully-fledged toposes: The canonical functor from topological
spaces to toposes, which associates to a topological space X its sheaf
topos Sh(X), is not quite an embedding -- one has to restrict to sober
topological spaces. It factors over the functor Top --> Loc which
associates to a topological space the locale with frame of opens given
by the frame of open subsets; the functor from locales to toposes, which
again constructs sheaf toposes, is an embedding.

4. Locales enjoy better properties than topological spaces: For
instance, arbitrary intersections of dense sublocales are again dense
(in stark contrast to the situation with topological spaces, think Q and
R \ Q in R), and products of paracompact locales are again paracompact
(without any further hypotheses).

5. Because locales needn't be determined by their points, locales can be
nontrivial while possessing no points. This is particularly important in
an intuitionistic context, where one might need some choice principles
to construct points. Curious examples, which are even interesting in
classical logic, are the locale of random binary sequences (capturing
certain plausible, but contradicting demands on when a binary sequences
should be deemed "random"), the locale of surjections N --> R, and the
smallest dense sublocale of any given locale.

6. Locales work better in an intuitionistic/constructive context such
as in the internal universe of a topos. For instance, the topological
space of the prime ideals of a ring cannot intuitionistically be shown
to have the expected universal property of the spectrum. The locale of
prime ideals works just fine[*]. Also the Gelfand--Naimark
correspondence between commutative C*-algebras and locally compact
Hausdorff spaces fails intuitionistically, unless "spaces" is taken to
be "locales". (At some point in the proof, one appeals to the axiom of
choice to construct a point satisfying certain requirements. One cannot
do that intuitionistically. But everything is fine on the level of
opens. [**]) One also doesn't any fancy set-theoretical axioms to verify
that arbitrary products of compact locals are compact.

7. To any "geometric theory" T (collection of axioms having a specific
form) there is a "classifying locale" Set[T] whose points are the models
of that theory in Set and whose locale maps X --> Set[T] are the models
of T in Sh(X). This classifying locale is very easy to describe and
quite useful (for instance, the spectrum of a ring is an classifying
locale, namely of the theory of the ring's prime filters); however,
the classifying locale not always spatial, so not always given by a
topological space.

8. Let X be a topological space. Then there is the slice category Top/X
of continuous maps Y --> X. One can also define a category Top(Sh(X)) of
"topological spaces internal to Sh(X)" (roughly similar to how one can
talk about group objects internal to categories). These two categories
are not equivalent. In contrast, for locales, it works: Loc(Sh(X)) is
equivalent to Loc/X, by a simple construction. This is quite useful,
because one can thereby reduce certain relative questions (about locale
maps Y --> X) to (internal) absolute ones (about locale maps Y --> 1).

9. "Frames are rings. Really! FRAMES ARE RINGS." (André Joyal, Topos à
l'IHÉS 2015)

Some very accessible references are:

* Johnstone, The point of pointless topology, 1983.
  http://pointlesstopology.com/the-point-of-pointless-topology.pdf

* Johnstone, The art of pointless thinking: a student's guide to the category of
  locales, 1990. http://www.heldermann.de/R&E/RAE18/ctw06.pdf

* Simpson, The locale of random sequences, 2009.
  http://homepages.inf.ed.ac.uk/als/Talks/ccc09.pdf

* Vickers, Locales and toposes as spaces, 2007.
  http://www.cs.bham.ac.uk/~sjv/LocTopSpaces.pdf

[*] To be precise, the locale of prime ideals doesn't work either. But
the locale of prime filters does. (The concept of a prime filter is a
direct axiomatization of what classically is the complement of a prime
ideal.)

[**] This is quite important to the Bohr topos approach to quantum
mechanics, where Gelfand--Naimark is applied in an internal setting to
construct a kind of (ordinary, i.e. commutative!) phase space for a
quantum mechanical system. See
https://pizzaseminar.speicherleck.de/skript2/konstruktive-mathematik.pdf
beginning on page 46 or the nLab for details.


=== Rahmen als Ringe

"Frames are rings. Really! FRAMES ARE RINGS." (Joyal, Topos à l'IHES)

* Joins sind wie Summen, Meets wie Produkte.

* Habe das Distributivgesetz. Und dieses hat eine zentrale Rolle in der
  Theorie. "From the idea of distributivity emergs the concept of a topos."

* Die Kategorie der Topoi (mit logischen Morphismen) "ist wie" Ring.

Mengen       abelsche Grupen    kommutative Ring

Posets        sup-lattices         Rahmen

Kategorien    präs'bare Kat.        Topoi

(Mit "präsentierbar" meint Joyal das, was früher "lokal präsentierbar" hieß.)

* Übrigens: Die kommutativen Monoid-Objekte in der Kategorie der präsentierbaren
  Kategorien sind gerade die Quantale.

* Die Kategorie der sup-lattices ist sehr schön, schöner noch als die Kategorie
  der abelschen Gruppen: *Jedes* Koprodukt ist auch ein Produkt.

* Die Inklusion der Rahmen in die kommutativen Quantale besitzt sowohl
  einen Links- wie einen Rechtsadjungierten. "makes life very nice"

* "PSh(A) ist die Linearisierung von A"


=== Örtlichkeit der Surjektionen von N nach R

* Relevant für Forcing. Der Garbentopos drüber enthält eine Surjektion von N
  in die (konstante Garbe) R.


=== 2-kategorielle Struktur

* Darf man Morphismen von Örtlichkeiten auf Gleichheit testen?
  Sollte das eigentlich wissen.


=== Isomorphismen

* Ein Rahmenhomo ist genau dann ein Iso, wenn er surjektiv ist
  und die Ordnung reflektiert. (Durch die Ordnungsreflektion ist er automatisch
  auch injektiv.)


=== Topologischer Unterraum als Unterörtlichkeit

Sei Y \subseteq X ein Unterraum eines topologischen Raums.
Dann ist der zugehörige Kern gegeben durch

  j(U) = bigcup { V | V cap Y = U cap Y }
       = bigcup { V | V cap Y subseteq U }.

Quelle: XXX


=== Offene Unterörtlichkeiten

Sei L der Rahmen einer Örtlichkeit. Sei U in L. Dann ist der Rahmen der offenen
Unterörtlichkeit zu U zunächst

    { V in L | (U -> V) = V }  (mit bot, top, wedge, "U --> bigvee").

Dieser ist aber isomorph zu

    { W in L | W <= U }  (mit bot, U, wedge, bigvee),

vermöge

    V      |--> V wedge U  und
    (U->W) <--| W.

Man beachte, dass V |-> V wedge U *kein* Kern auf L ist.

Siehe auch http://www.emis.de/journals/AM/06-4/pultr.pdf für ein paar
(offensichtliche) Rechenregeln zur Heyting-Implikation.

Ist j der Kern zu einer offenen Unterörtlichkeit (das heißt nach Definition,
dass j beliebige Infima und die Heyting-Implikation erhält), so kann man j
in die Form (U -->) bringen durch die Konstruktion

    U := inf { V | j(V) = top }.

Es ist klar, dass j(V) <= (U --> V). Für die andere Richtung gehen die
Voraussetzungen ein.


=== Genügend viele Punkte

Wollte ich mal explizit sehen: Sei X eine Örtlichkeit sodass Sh(X) genügend
viele Punkte besitzt. Seien U und V offene Dinge von X. Gelte für alle Punkte F
von X (also vollständig prime Filter): U in F genau dann, wenn V in F. Zeige U = V.

Betrachte dazu die Injektion (U wedge V)_ --> V_ von darstellbaren Garben auf X.
(Es gilt: V_(W) = { * | W <= V }.) Wir zeigen, dass diese halmweise auch
surjektiv ist. Sei dazu F ein Punkt. Sei [<W,s>] in (V_)_F. Also W in F und s in V_(W),
also s = * und W <= V. Somit V in F und damit auch U in F. Somit ist [<W',*>]
mit W' := W wedge U das gesuchte Urbild (W' in F, W' <= U wedge V).


=== Lokale Kompaktheit

* Wir schreiben genau dann a << b, wenn für alle gerichteten Mengen S mit
  b <= sup S schon ein s aus S mit a <= s existiert.

* Aus a << b folgt a <= b. (Wähle S := { b }.)

* Aus a << b folgt a << c für jedes c >= b.

* Eine Örtlichkeit ist genau dann kompakt, wenn top << top.

* Eine Örtlichkeit heißt genau dann lokal kompakt, wenn für jedes a
  gilt: a = sup { b | b << a }.

* Sei top = sup_i U_i und seien die Downarrow(U_i) alle lokal kompakt.
  Dann ist auch die Örtlichkeit selbst lokal kompakt.

  Nutze dazu folgendes Lemma: Sei V <= U_i mit V <<^{U_i} U_i wedge U.
  Dann V << U_i wedge U.

* Eine Konsequenz: Schemata sind lokal kompakt und damit (zumindest in
  klassischer Logik, konstruktiv natürlich nicht) räumlich.


=== Lokale Örtlichkeiten

* Lokale Örtlichkeiten besitzen stets einen örtlichkeitstheoretischen
  Punkt, nämlich den vollständig primen Filter

      { U in Ouv(X) | U = top }.


=== Kleinste dichte Unterörtlichkeit

* Sh(X_negneg) sollte isomorph sein zu Sh_negneg(X).
  Zurückziehen und Vorwärtsdrücken auf X_negneg sollte dasselbe sein wie
  bezüglich negneg zu vergarben.

* Sei X ein topologischer Raum mit einem generischen Punkt xi.
  Dann ist X_negneg --> X isomorph zu {xi} --> X.
  Auf Garbenniveau habe ich das schon verstanden. Noch direkt auf Rahmenniveau
  verstehen!

* Zu einer offenen Teilmenge U eines topologischen Raums X können wir die
  Modalität Box := ((__ --> U) --> U) definieren.

  Es gilt: Box(V) = V genau dann, wenn

      für alle offenen Z:
          [für alle offenen W: W cap V subseteq U ==> W cap Z subseteq U]
          ==> Z subseteq V.

  Das ist genau dann der Fall, wenn das Innere von V* in V enthalten ist.
  Dabei ist V* eine Art anderer Art Abschluss von V, nämlich

      \bigcap_{W mit W cap V subseteq U} (W --> U),

  oder verständlicher

      V* = clos(V \ U) cup U.

  (Sollte das noch einmal prüfen, scheint aber alles stimmig zu sein.)

* Es gilt int V* = X genau dann, wenn U^c subseteq clos(V\U).

* Besonders interessant ist der Fall U = int(X \ {x0}), x0 abgeschlossen.

  Dann gilt: int V* = X <==> x_0 in V.

  Ferner ist V* = X, falls x0 in V, und X \ {x0} sonst.

  X_Box besteht also aus nur zwei offenen Teilmengen: X und X \ {x0}.
  Insbesondere ist Sh(X_Box) boolsch.

  Ist die Inklusion von X_Box in X dieselbe wie die von {x0} nach X?

* "Wie sieht X_negneg aus, wenn es keinen einzelnen generischen Punkt gibt?
  Haben assoziierte Punkte etwas zu sagen?" Diese Frage ist jetzt geklärt.
  Wenn X ein lokal noethersches und reduziertes Schema ist, so ist X_negneg
  der Unterraum der assoziierten Punkte.


=== Kovarianter Zugang

http://www.mat.uc.pt/~picado/covariant/contents.pdf


=== Lokalische Gruppen

* Jede Untergruppe einer lokalischen Gruppe ist abgeschlossen.
  http://www.wra1th.plus.com/gcw/rants/math/closed.html


=== Konstante Garben

Sei A eine Menge und X eine Örtlichkeit. Dann sieht die konstante Garbe AA so aus:

    AA(U) = { "stetige Funktionen U --> A" }
          = { Rahmenhomos P(A) --> !(U) },

wobei !(U) = { V | V <= U }.

Man kann nachrechnen, dass AA wirklich eine Garbe ist.


=== Garben auf Örtlichkeiten

http://arxiv.org/pdf/1310.0705.pdf, Seite 101, nach Verweis auf Quelle [49]:
The sheaves are, first of all, finitary sheaves over the distributive lattice L,
i.e. those presheaves F that satisfy finite instances of the sheaf pasting
condition. In addition, they must satisfy a continuity condition that F(a) ∼=
colim_{a <= a'} F(a').


=== Interne Örtlichkeiten

* Hom_Loc(A_diskret, X) = Hom_Set(A, Pt(X)), durch

      (phi : A_diskret --> X) |---> (a |-> { U | a in phi(U) })

  und

      (psi : A --> Pt(X)) |---> (U |-> { a | U in psi(a) }).

* Als Konsequenz hat man für eine interne Örtlichkeit X in einem Topos E:

      Hom_{Loc(E)}(E/A, X) = Hom_E(A, Pt(X)).

* Um die offenen Dinge zu rekonstruieren, muss man Abbildungen in (Varianten
  des) Sierpinski-Raums betrachten.


=== Ouvertheit

* Eine Örtlichkeit X ist genau dann ouvert, wenn der eindeutige Morphismus
  X --> 1 offen ist, wenn also Omega --> Ouv(X) einen (automatisch monotonen)
  Linksadjungierten f_! besitzt, der die Frobenius-Bedingung erfüllt:

      f_!(U wedge sup{T|phi}) <==> (f_!(U) wedge phi)

  für alle U in Ouv(X) und alle phi in Omega.

  Tatsächlich aber ist die Frobenius-Bedingung automatisch erfüllt. Es geht
  also nur um die Existenz eines Linksadjungierten.

  Genau dann ist X ouvert, wenn auf Ouv(X) ein Positivitätsprädikat (im Sinne
  von nLab, Def. 3) existiert. Ist f_! gegeben, so definiert

      U > 0  :<==>  f_!(U)

  ein Positivitätsprädikat. Umgekehrt definiert diese Setzung f_!.

* Sei X ouvert. Dann gilt für U in Ouv(X) und phi in Omega:

      U = sup { U | phi }  <==>  (U > 0 ==> phi).

  Das folgt unmittelbar aus der Adjunktionsbeziehung.

* Örtlichkeiten zu topologischen Räumen sind stets ouvert (konstruktiv).
  Das Positivitätsprädikat kann man direkt angeben, es lautet:

      U > 0  :<==>  U bewohnt.

* Spec(A), als Örtlichkeit, ist in konstruktiver Logik nicht ouvert.

  Denn bei ouverten Örtlichkeiten gilt:

      forall i: X <= sup { T | phi_i }   <==>   X <= sup { T | forall i: phi_i }.

  Bei Spec(A) gilt aber nur "<==". Die Aussage sieht dann nämlich so aus:

      forall i: 1 = 0 oder phi_i   <==>   1 = 0 oder forall i: phi_i.


=== Schnitt von Örtlichkeiten

Sei (Box_i)_i eine Folge modaler Operatoren. Der modale Operator Box, der
zum Schnitt der zugehörigen Unterörtlichkeiten gehört, lässt sich explizit so
angeben:

    Box(alpha) := forall phi.
        ((forall i. Box_i(phi) ==> phi) wedge (alpha ==> phi)) ==> phi.

* Dieser Operator ist der kleinste mit der Eigenschaft, dass für alle phi
  und alle i Box_i(phi) Box(phi) impliziert.

* Eine Aussage ist genau dann Box-stabil, wenn sie für alle i Box_i-stabil ist.

* Eine Menge ist genau dann Box-separiert bzw. eine Box-Garbe, wenn sie es für
  alle i bezüglich Box_i ist.

  Für Separiertheit ist das klar; für das volle Garbenaxiom schreibe die
  Garbenbedingung so um:

      (X separiert und)
      forall K <= X mit K Subsingleton und Zugehörigkeit ist Box-stabil.
          Box(K bewohnt) ==> K bewohnt.


=== Vereinigung von Örtlichkeiten

Geht einfach durch den naiven Schnitt der zugehörigen Kerne, also

    Box(alpha) := forall i. Box_i(alpha).

* Sind alle Box_i wesentlich, so auch Box. Der Linksadjungierte zu Box
  ist

      b(alpha) := exists i. b_i(alpha).


=== Kerne vs. Fixmengen

Es gibt eine kanonische ordnungsumkehrende Bijektion zwischen Kernen und
Fixmengen. Eine Fixmenge ist dabei eine Teilmenge von Ouv(X), die unter
beliebigen Infima abgeschlossen ist und außerdem ein exponentielles Ideal ist
(wenn b drinliegt, dann auch (a -> b)).

* Ein Kern j gibt Anlass zur Fixmenge A := { u | ju <= u }.

* Eine Fixmenge A gibt Anlass zum Kern j : u |-> inf { v in A | u <= v }.

* Schnitt von Unterörtlichkeiten ist äquivalent gegeben durch das Supremum
  von Kernen oder den (naiven) Schnitt von Fixmengen.

* Wie kann man Wesentlichkeit über die zugehörige Fixmenge charakterisieren?

  Wilde Vermutungen: Zu einem wesentlichen Kern können wir die "Kofixmenge"
  B := { u | u <= bu } definieren. Diese ist abgeschlossen unter beliebigen
  Infima. Vielleicht ist die Kofixmenge zum Schnitt von wesentlichen
  Unterörtlichkeiten der Schnitt der einzelnen Kofixmengen. Vielleicht ist die
  Überlegung aber auch Quatsch, da Wesentlichkeit nicht unter Schnittbildung
  stabil ist. Kelly und Lawvere wissen es!


=== Wesentliche Unterörtlichkeiten

* Eine Unterörtlichkeit, gegeben durch einen Kern j, heißt genau dann
  wesentlich, wenn j einen (als monotone Abbildung) Linksadjungierten b
  besitzt.

* Das ist genau dann der Fall, wenn j verträglich mit beliebigen Infima ist.
  In diesem Fall lässt sich b konstruieren als

      b(U) := inf { V | U <= j(V) }.

* Ferner ist das genau dann der Fall, wenn es zu jedem U ein kleinstes V
  gibt mit U <= j(V). (Ein kleinstes dichtes Unterobjekt.)

* b <= id <= j, b = bb, bj = b, jb = j.

* Eine Unterörtlichkeit der einpunktigen Örtlichkeit ist genau dann wesentlich,
  wenn sie offen ist. Die Frobenius-Relation ist nämlich automatisch erfüllt
  (wie im Abschnitt über Ouvertheit beschrieben).

* Genau dann gilt b(u wedge w) = u wedge b(w) für alle u und w, wenn
  j die Heyting-Implikation bewahrt:

       b(u wedge w) <= z
  <==> u wedge w    <= j(z)
  <==> w            <= (u --> j(z))
  <==> w            <= (j(u) --> j(z))

       u wedge b(w) <= z
  <==> b(w)         <= (u --> z)
  <==> w            <= j(u --> z)

* Zu X_j ^-> X gehört in Sh(X) ein modaler Operator Box. Folgende Aussagen sind
  äquivalent:

  (1) Sh(X) |== Box ist wesentlich.
  (2) Sh(X) |== Box ist offen.
  (3) X_j ^-> X ist offen.

  Die Äquivalenz von (1) und (2) ist klar, denn Unterörtlichkeiten der
  einpunktigen Örtlichkeit sind genau dann wesentlich, wenn sie offen sind.
  Aussage (2) lautet ausgeschrieben:

      Sh(X) |== exists(!) alpha : Omega.
          forall phi : Omega. Box(phi) <==> (alpha ==> phi).

  Wenn also Aussage (2) gilt, dann gibt es ein Offenes a von X, sodass
  der Kern j (der ja Box auf globalen Schnitten ist) gleich (a -->) ist.

  Umgekehrt ist es sogar so klar, dass man eigentlich nicht drüber nachdenkt.

* Kann man auch Wesentlichkeit (statt Offenheit) intern charakterisieren?

  Zumindest ist Wesentlichkeit eine lokale Eigenschaft:

  Sei A eine Unterörtlichkeit von X. Sei X durch offene (X_i)_i überdeckt. Der
  Kern, der zu A cap X_i ^--> X_i gehört, ist dann j(__) wedge X_i (dabei sehen
  wir O(X_i) als Downarrow(X_i) an).

  Dann gilt: Genau dann ist A wesentlich in X, wenn für alle i A cap X_i
  wesentlich in X_i ist.

  "==>": Setze b_i(u) := b(u).

  "<==":      u <= j(v)
         <==> u wedge X_i <= j(v) wedge X_i für alle i
         <==> u wedge X_i <= j(v wedge X_i) wedge X_i für alle i
         <==> u wedge X_i <= j_i(v wedge X_i) für alle i
         <==> b_i(u wedge X_i) <= v wedge X_i für alle i
         <==> b_i(u wedge X_i) <= v für alle i
         <==> bigvee_i b_i(u wedge X_i) <= v.


=== Rückzug (Pullback) von Örtlichkeiten

http://www.tac.mta.ca/tac/volumes/12/13/12-13.pdf

* Ein GRD-System besteht aus drei Mengen G, R und D sowie Abbildungen

      lambda : R --> F(G)   (Menge der Kuratowski-endlichen Teilmengen)
      rho    : D --> F(G)
      pi     : D --> R.

* Ein GRD-System gibt Anlass zu einem Rahmen, nämlich dem von den Elementen
  aus G erzeugten modulo den Relationen

      bigwedge lambda(r) <= bigvee_{pi(d)=r} bigwedge rho(d).

* Der Rückzug von derart definierten Örtlichkeiten geschieht durch Rückzug
  der zugehörigen Präsentationen.


=== Logische Sicht auf Örtlichkeiten

Jede Örtlichkeit klassifiziert eine gewisse geometrische propositionale
Theorie, nämlich "die Theorie ihrer Punkte".

* Sei eine propositionale geometrische Theorie T (also die Ansammlung
  von Axiomen) über einer Signatur Sigma gegeben. Dann gibt es folgende
  Korrespondenz.

      Pt(Örtlichkeit zu T) ~~ { alpha : Sigma --> Omega | alpha erfüllt die Axiome von T }

  Dabei geht ein Punkt (ein vollständig primer Filter) F auf die Zuordnung
  alpha mit alpha(a) = [| [a] in F |].

  Eine Zuordnung alpha geht auf den Punkt { [phi] | phi stimmt in der Zuweisung
  alpha }.

  (Habe nicht alle Details geprüft, aber ist völlig sinnvoll.)


=== Funktionalanalysis

Joan Pelletier, Locales in functional analysis.

Eine Idee ist zum Beispiel, den Dualraum durch eine Dualörtlichkeit zu
ersetzen. Dann funktioniert Hahn--Banach.


=== Literatur

* Klar: Johnstone (zwei Einführungsartikel, Stone Spaces, Elephant)

* http://www.mat.uc.pt/~picado/publicat/Chapter2.pdf

* Non-Hausdorff Topology and Domain Theory: Selected Topics in Point-Set
  Topology

* Lesen: http://www.degruyter.com/view/j/ms.2015.65.issue-2/ms-2015-0020/ms-2015-0020.xml?format=INT
