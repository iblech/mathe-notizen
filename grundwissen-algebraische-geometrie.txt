=== Fette Punkte

* Vakil auf Seite 132. Spec k[x,y]/(x,y)^2 sieht wie ein Kreis aus, da
  keine Richtung bevorzugt ist. Spec k[x,y]/(x^2,y^2) dagegen wie ein Quadrat.


=== Primideale

* Sei a cap b <= p, wobei a und b Ideale sind und p ein Primideal ist.
  Dann (klassisch) a <= p oder b <= p.

* Prime avoidance lemma: Sei E eine additive Untergruppe, die außerdem
  unter Multiplikation abgeschlossen ist. Also ein Unterring, der nicht
  unbedingt die Eins enthalten muss. Seien p_1, ..., p_n Ideale, von denen
  alle bis auf zwei Primideale sein müssen. Dann:

      E <= bigcup_i p_i  ==>  E <= p_i für ein i.

* Der Schnitt über alle Primideale, oder auch nur die minimalen, ist sqrt(0).

* Noethersche Ringe (und auch solche, die nur die aufsteigende Kettenbedingung
  für Radikalideale erfüllen) besitzen nur endlich viele minimale Primideale.
  http://math.stackexchange.com/questions/47342/does-every-closed-set-of-prime-ideals-of-a-noetherian-ring-contain-a-finite-dens


=== Wozu sind noethersche Schemata gut?

"As far as I can see, we want to consider Noetherian schemes since they will
allow for a Mayer–Vietoris sequence in the Nisnevich topology. The key
ingredient for that is the fact that if S is a Noetherian scheme, then |S| is a
Noetherian topological space: every decreasing chain of closed subsets
stabalises.

The converse is not true: there exist non-Noetherian schemes S, such that
|S| is a Noetherian topological space. You can even choose S affine."

http://www.math.ru.nl/~jcommelin/files/schintro.pdf


=== Dimension

* dim(X) <= n genau dann, wenn Sh(X) |== dim(O_X) <= n.

* dim(V(I)) <= n genau dann, wenn Sh(X) |== dim(O_X/I) <= n.

* Ist E eine Modulgarbe, so können wir das abgeschlossene Unterschema
  supp(E) := V(Ann(E)) definieren. Topologisch stimmt das genau mit dem Träger
  von E überein -- zumindest, wenn E von endlichem Typ ist, damit dieser
  abgeschlossen ist. (Denn für das Innere der Komplemente gilt: Sie sind gleich
  -- links haben wir den Wahrheitswert von "E = 0", rechts den von "1 in
  Ann(E)".)

  Dann folgt: dim supp(E) <= n genau dann, wenn Sh(X) |== dim(O_X/Ann(E)) <= n.

* Cohen-Macauley:
  http://mathoverflow.net/questions/54876/geometric-meaning-of-cohen-macaulay-schemes

* Genau dann gilt für einen Ring R, dass alle Lokalisierungsmorphismen

      R --> R_p  (p Primideal)

  lokal sind, wenn für alle Primideale p

      R \ p <= R^x,

  also wenn jedes Element nilpotent oder invertierbar ist.

  Im Fall, dass R selbst lokal ist, ist das gleichbedeutend damit, dass die
  Dimension von R <= 0 ist.

* Ein Ring A ist genau dann nicht der Nullring (zumindest in klassischer
  Logik), wenn es einen Morphismus A --> B in einen lokalen Ring gibt, der
  keine Lokalisierung ist.

  Die Richtung "<==" ist klar. Zur Richtung "==>" wähle ein maximales Ideal m
  und betrachte dann A --> A/m --> Quot (A/m)[X]. Dieser Morphismus kann keine
  Lokalisierung sein.

  Konsequenz daraus ist: Sei A nicht der Nullring. Dann gibt es ein A-Schema X
  und einen Punkt x von X, sodass der induzierte Morphismus A --> O_{X,x} keine
  Lokalisierung ist. (Nimm nämlich X = Spec B und x der eindeutige
  abgeschlossene Punkt, dann O_{X,x} = B_m = B.)

* Sei A ein lokaler Ring. Dann ist die Dimension von Spec(A) \ { m } strikt
  kleiner als die von Spec(A). (Dabei ist Spec(A) \ { m } nicht
  notwendigerweise affin.) Klar, da der Endpunkt einer jeden maximalen Kette
  von Primidealen entfernt wurde!

  Ist nützlich für induktive Argumente über die Dimension.
  http://mathoverflow.net/questions/92275/punctured-spectrums-of-local-rings


=== Dominanz

* Sei f : X --> Y ein Morphismus zwischen affinen integren Schemata.
  Dann sind äquivalent:

      1. f ist dominant (d.h. f[X] ist dicht in Y)
      2. f(xi_X) = xi_Y.

  1. <==> f[X] trifft alle nichtleeren offenen U in Y
     <==> für alle f in O_Y(Y) gilt: ist f nicht nilpotent,
          so existiert ein Primideal p in O_X(X) sodass f nicht in
          f^#^{-1}[p] liegt
     <==> für alle f in O_Y(Y) gilt: falls f in allen f^#^{-1}[p] liegt,
          so ist f nilpotent
     <==> für alle f in O_Y(Y) gilt: falls f in f^#^{-1}[sqrt(0)] liegt,
          so liegt f in sqrt(0)
     <==> f^# reflektiert Nilpotenz

  2. bedeutet f^#^{-1}[(0)] = (0). Das ist äquivalent zur Nilpotenzreflektion.

* Stimmt es, dass ein Morphismus f : X --> Y zwischen beliebigen Schemata
  genau dann dominant ist, wenn f^# : f^{-1}(O_Y) --> O_X aus Sicht von Sh(X)
  Nilpotenz reflektiert, wenn also O_{Y,f(x)} --> O_{X,x} für alle x aus X
  Nilpotenz reflektiert?

  Glaube nicht (schon im affinen Fall falsch).


=== Spec Z

* Pic(Spec Z) ist trivial. Ein Beweis (nicht der beste) geht so:

  Ein M ein endlich erzeugter projektiver Z-Modul (d.h. M~ sei ein beliebiges
  Vektorbündel). Dann ist M Kokern einer idempotenten Matrix. Also ist M auch
  Kern einer idempotenten Matrix (derselben: ker P --> cok P ist ein Iso).
  Also ist M frei (bringe P auf Smithsche Normalform).

  Auf Spec Z sind also alle Vektorbündel trivial. Geradenbündel gibt's daher
  nur eins, das triviale.


=== Wie viel weiß der zugrundeliegende topologische Raum eines Schemas?

"Note that all curves (over a fixed algebraically closed field say) are
homemorophic in the Zariski topology." Laut Torsten Ekedahl auf
http://mathoverflow.net/questions/19345/how-to-characterize-abelian-sheaves-that-are-quasi-coherent.

Ein boolschen Ring kann man aus seinem Spektrum (nur aufgefasst als
topologischen Raum) vollständig zurückgewinnen -- als Menge der
offenabgeschlossenen Teilmengen. Stichwort Stone-Dualität.


=== Über die Wahl des richtigen Topos

* Die Siten Sch/S und Aff/S führen zum selben Topos. Ebenso deren volle
  Unterkategorien derjenigen Schemata, die über S lokal von endlicher
  Präsentation sind.

  Wieso schränken wir uns nicht auf die Schemata, die sogar global von
  endlicher Präsentation sind, ein? Das hat einen ganz einfachen Grund.
  Offene Immersionen sind stets lveP, aber nicht immer veP. Wir wollen
  aber, dass offene Unterschemata im Situs enthalten sind (etwa, damit
  wir einen einfachen Vergleich zum kleinen Topos ziehen können).
  Außerdem besitzt jedes lveP/S-Schema trivialerweise eine offene
  Überdeckung durch affine Schemata, welche lveP/S sind. Für "veP/S" ist
  mir das nicht klar.

* Die Kategorie (Aff /^lveP S) ist wesentlich klein. Denn: Ist X --> S
  ein Objekt aus dieser Kategorie, so wissen wir: Es gibt eine
  Überdeckung S = bigcup_i V_i und Überdeckung f^{-1}[V_i] = bigcup_j
  U_ij sodass die Ringhomos O_S(V_i) --> O_X(U_ij) alle von endlicher
  Präsentation sind. Für die O_X(U_ij) gibt es also nur Mengen-viele
  Möglichkeiten. Der Ring O_X(X) hat also die Eigenschaft, eine
  Überdeckung durch Ringe zu besitzen, die durch eine Menge durchlaufen.
  Mit der expliziten Konstruktion als Menge kompatibler Familien von
  Schnitten durchläuft O_X(X) also auch nur eine Menge von
  Möglichkeiten. Morphismen X --> S gibt es dann auch nur Mengen-viele.


=== Morphismen zwischen den Zariski-Topoi

* Sei f : T --> S ein Morphismus von Schemata. Dann gibt es einen geometrischen
  Morphismus

      i_f : Sh(T) --> Zar(S)

  mit i_f^{-1} = (Einschränken auf T) und i_f_* durch:

      (i_f_*(E))(P/S) = lim_{P -> U} E(U)  (ziemlich sicher; beachte lim statt colim!)
                                              evtl. auch U -> P

  Der Funktor i_f^{-1} hat noch einen Linksadjungierten i_f_!, der mit
  Faserprodukten und Equalizern kommutiert.

  Das ist Tag 020Y im Stacks Project.

  Es ist i_f^{-1}(A^1) = O_T.

  (i_f_*(E))(P/S) = Hom(y(P/S), i_f_*(E)) = Hom(i_f^{-1} y(P/S), E) =
      Hom(y(P/S)|_Sh(T), E) = lim_{U <= T offen, U --> P} E(U).

  Insbesondere sollte für P <= T offen gelten:

      i_f_*(E)(P/S) = lim_{U <= P offen} E(U) = E(P).

  Also i_f^{-1} . i_f_* = id. (Ist konsistent mit pi_* . i_* = id unten.)

* Dank i_f_! ist i_f^{-1} also stetig und kostetig. Somit weiß ich, wie in
  Zar(S) Kolimiten berechnet werden: eingeschränkt auf Sh(T) so, wie in Sh(T).

  Ist T sogar lokal, so ist die Auswertung bei T schon (stetig und) kostetig.

* Außerdem habe geometrische Morphismen

      pi : Zar(S) --> Sh(S)
      i  : Sh(S)  --> Zar(S)

  mit pi . i = id.

  * pi_* = i^{-1} = (Einschränken auf den kleinen Zariski-Topos).

  * i_* = i_{id_S}_* = die Sache mit dem lim oben.

  * pi^{-1}(E) = Vergarbung von (T/S |-> colim_{T -> U} E(U))  (ziemlich sicher).

  * (pi^{-1} E)|_Sh(T) = (i_f^{-1} . pi^{-1})(E) = (pi . i_f)^{-1}(E) =
        f_small^{-1}(E) = f^{-1}(E)  (Tag 0211, Teil (4)).

  * pi^{-1} E ist also das, was ich gelegentlich E~ genannt habe:
      (pi^{-1} E)(T --mu--> S) = Gamma(T, mu^{-1} E).

  * pi^{-1} ist volltreu (Tag 00XU), d.h. pi ist zusammenhängend, d.h.
    F --> (F~)|_Sh(S) ist ein Iso für alle F aus Sh(S).
    (Somit ist, wegen einer der Dreicksidentitäten, auch
    R eps : (E|_Sh)~|_Sh --> E|_Sh ein Iso.)

  * i^{-1} A^1 = O_S, pi^{-1} O_S = O_S^~.

  * pi^{-1} -| pi_* = i^{-1} -| i_*.

  * Der Morphismus pi : Zar(S) --> Sh(S) ist ein lokaler geometrischer
    Morphismus, denn pi_* besitzt einen weiteren Rechtsadjungierten, nämlich i_*,
    und pi ist zusammenhängend (d.h. pi^{-1} ist volltreu).

  Das ist Tag 020Z.

  Ein expliziter Nachweis, dass

      Hom_Zar(S)(E~, F) = Hom_Sh(S)(E, F|_Sh(S)),

  sieht so aus: Ein Morphismus phi aus der linken Menge wird einfach auf
  phi|_Sh(S) geschickt. Umgekehrt wird ein Morphismus psi auf der rechten Menge
  auf den Morphismus geschickt, dessen Einschränkung auf die Sh(T) (für mu : T --> S)
  so aussieht:

      mu^(-1)(E) ----> mu^(-1)(F|_Sh(S)) ----> F|_Sh(T).

  Um die Inversität nachzurechnen, muss man die Natürlichkeit von phi
  ausnutzen. Diese besagt nämlich insbesondere, dass

      (F|_Sh(S) --> mu_*(F|_Sh(T))) . phi|_Sh(S) =
          mu_*(phi|_Sh(T)) . (E --> mu_* mu^(-1) E).

* Der laxe 2-Kolimes von Sch/S --> Topoi (dem Pseudofunktor, der einem S-Schema
  seinen kleinen Zariski-Topos zuordnet) ist der große Zariski-Topos von S.
  https://golem.ph.utexas.edu/category/2009/01/petit_topos_gros_topos.html#c021550

* Punkte des fppf-Topos:
  http://reh.math.uni-duesseldorf.de/~schroeer/publications_pdf/points_fppf.pdf

* Sei f : X --> S ein Morphismus von Schemata. Dann sollten wir folgende
  Funktoren haben:

      f_! -| f^{-1} -| f_*.

  Also ist (f^{-1} -| f_*) : Zar(X) --> Zar(S) ein wesentlicher geometrischer
  Morphismus.

  * f_*(F)    : T/S |--> F(T x_S X)
  * f^{-1}(E) : T/X |--> F(T/X/S)
  * f_!(F)    : T/S |--> coprod_{mu : T --> X über S} F(T/X)

  Es ist Zar(X) zu Zar(S)/yX vermöge dieser Funktoren äquivalent:

      Zar(X) --> Zar(S)/yX durch F |--> (f_!(F) --> f_!(1))

      Zar(S)/yX --> Zar(X) durch (E --> yX) |-->
          auf T/X: { s in f^{-1}(E) | s wird unter E --> yX auf den
          Strukturmorphismus von T/X abgebildet }

  Sei A eine O_S-Algebra. Dann gibt es ja die A^1_S-Algebra A~. Unter dieser
  Äquivalenz korrespondiert (A~ x yX --> yX), die Algebra in Zar(S)/yX, zu
  (f^* A)~.

* Mit den universellen Eigenschaften kann man eigentlich sehr schnell zeigen,
  dass

      X x_S Spec_S(A) = Spec_X(f^*(A)),

  und zwar für beliebige (nicht notwendigerweise quasikohärente) O_S-Algebren A.

  Auch im großen Zariski-Topos ist es schön, denn die linke Seite ist

      yX x [A~, A^1]_{A^1-Alg}   (in Zar(S))

  und die rechte

      [\underline{A~}, A^1_X]_{A^1_X-Alg}  (in Zar(S)/yX).

  Diese sind offensichtlich gleich.


=== Proj-Konstruktion

* Funktorialität:
  http://math.stackexchange.com/a/1038969/61604

* http://therisingsea.org/notes/TheProjConstruction.pdf

* http://mathoverflow.net/questions/41624/a-sheaf-theoretic-version-of-the-proj-construction


=== Vektorräume als affine Schemata

Die kovariante Zuordnung

    V |--> Spec Sym V^

bildet jeden (endlich-dimensionalen) k-Vektorraum auf ein Schema ab, dessen
k-rationale Punkte in kanonischer Bijektion zu den Elementen von V stehen:

    Hom(k, Spec Sym V^) = Hom(Sym V^, k) = Hom_lin(V^, k) = V^^ = V.


=== Verschwindungsmengen in affinen Schemata

* Sei f \in A. Dann gilt:
    { x \in Spec A | f = 0 \in k(x) } = V((f)) = { p | f \in p }.

* clos M = V(I(M)) = V(\bigcap M).

* Falls V(I(W)) = W (d.h. W abgeschlossen) und V eine beliebige Teilmenge des
  affinen Raums ist, so gilt I(V) : I(W) = I(V \ W) (Idealquotient).

  Insbesondere I(X \ W) = sqrt(0) : I(W).

* Der Rand von V(a) im topologischen Sinn ist V(a + sqrt(0):a).
  (Beachte: Das ist nicht unbedingt ein Radikalideal.)

  Allgemeiner ist der Rand von M die Menge V(I(M) + I(X \ M)).

* int(Spec A \ {p}) = Spec A \ V(p).

* (m maximales Ideal) supp A/I <= { m }  <==>  m <= sqrt(I).
  
  Denn supp A/I = { q | I <= q }. Dann ist "<==" klar und "==>" sollte auch
  stimmen.

* Jedes abgeschlossene Unterschema eines affinen Schemas ist selbst
  affin und von der Form Spec(A/I). (Liu, Prop. 2.3.20.) Also in Kontrast zu
  der Situation bei offenen Unterschemata.

* V(I + J) = V(I) cap V(J).

* V(IJ) = V(I) cup V(J).

  Rein topologisch gilt auch: V(I cap J) = V(I) cup V(J),
  denn sqrt(I cap J) = sqrt(I * J).

* Sei M ein A/I-Modul. Dann wird M vermöge A --> A/I zu einem A-Modul.
  Dann gilt: supp(M) <= V(I) <= Spec(A).


=== Standardoffene Teilmengen

* D(f) \cap D(g) = D(fg)
* D(f) \subseteq \bigcup_i D(g_i)  <==>  f \in \sqrt{(g_i)_i}
  (für "==>": Zorn!)
* insbesondere: Spec A = \bigcup_i D(g_i)  <==>  (g_i)_i = (1).

* D(f) ist genau dann leer, wenn f nilpotent ist.

* Seien p <= q Primideale. Sei q Element einer offenen Teilmenge U.
  Dann ist auch p Element von U. (Schreibe U als Vereinigung standardoffener
  Teilmengen. Oder so: Angenommen nicht. Dann p in U^c. Also auch cl{p} <= U^c.
  Also q in U^c. Widerspruch.)

* Seien p_1, ..., p_n Primideale, die alle in einer offenen Teilmenge U
  enthalten sind. Dann gibt es eine standardoffene Teilmenge D(f)
  mit D(f) <= U, die ebenfalls diese Primideale enthält.

  Der Beweis unten überträgt sich wörtlich auf diese allgemeinere Situation.
  Auf die Endlichkeit der Anzahl der Primideale kann nicht verzichtet werden.

* Felix: "Ist X ein quasiprojektives Schema über einer Basis S (über die ich
  jetzt nicht näher nachgedacht habe). Dann gibt es für jedes n eine endliche
  (!) affine offene Überdeckung X=UV_i von X so dass je n beliebige Punkte auf
  X bereits komplett in einem der V_i liegen (insbesondere ist also das
  Hilbertschema von n Punkten quasikompakt (über S) in diesem Setting -- was
  natürlich nur spannend wäre wenn man nicht wüsste dass es ohnehin sogar schon
  wieder quasiprojektiv ist :)"

* D(f) ist dicht genau dann, wenn für alle g:

      fg nilpotent ==> g nilpotent.

* \bigcup_i D(f_i) ist genau dann dicht, wenn für alle g:

      f_i g nilpotent für alle i ==> g nilpotent.

* Eine offene Teilmenge U ist genau dann dicht, wenn

      bigcap_{p in U} p = sqrt(0).

* Besitze A nur endlich viele minimale Primideale (zum Beispiel, wenn
  A noethersch ist oder auch nur, wenn A die aufsteigende Kettenbedingung für
  Radikalideale erfüllt -- siehe Wikipedia /minimal prime ideals/). Dann gilt:
  Eine offene Teilmenge ist genau dann dicht, wenn sie alle minimalen
  Primideale enthält.
  http://math.stackexchange.com/questions/970496/dense-open-subsets-of-schemes

  "<==": Diese Richtung gilt sogar ohne die Endlichkeitsvoraussetzung. 
  Denn bigcap_{p in U} p = bigcap_{p in U, p minimales PI} p = bigcap_{p min. PI} p = sqrt(0).

  "==>": Habe bigcap_{p in U} p = bigcap_{p in U, p minimales PI} p = sqrt(0) = bigcap_{p min. PI} p.
  Also gilt für jedes minimale Primideal q: bigcap_{p in U, p minimales PI} p <= q.
  Nach Globalvoraussetzung ist der Schnitt links endlich.
  Also p <= q für ein minimales Primideal p, welches in U liegt.
  Wegen der Minimalität von q folgt p = q.

* Besitze A nur endlich viele minimale Primideale. Sei U <= Spec A
  eine offene dichte Teilmenge. Dann gibt es eine standardoffene Untermenge von U,
  die immer noch dicht ist.

  Schreibe dazu U = D(I). Seien p_1, ..., p_n alle minimalen Primideale.
  Dann liegt I nicht vollständig in p_i (da p_i in U), für alle i.
  Nach prime avoidance liegt I auch nicht vollständig in bigcup_i p_i.
  Also existiert ein f aus I, das in keinem p_i liegt.

  Für dieses f gilt dann: D(f) <= U und D(f) ist noch dicht,
  da es alle minimalen Primideale enthält.

* Sei q ein Primideal, das nicht minimal ist. (Sei q' echt kleiner als q.)
  Dann gibt es eine offene dichte Menge, die q nicht enthält, und zwar U :=
  Spec A \ V(q). Um das nachzuweisen, müssen wir zeigen, dass

      x liegt in allen Primidealen p, welche q nicht umfassen ==>
      x liegt in allen Primidealen p.

  Sei dazu ein solches x gegeben. Sei außerdem ein Primideal p gegeben.
  Falls p q nicht umfasst, sind wir fertig.
  Andernfalls gilt also q' <= q <= p. Da q' nicht q umfasst, liegt x in q' und
  damit in q.

* Als Korollar: Der Schnitt über alle offenen dichten Teilmengen liegt in der
  Menge der minimalen Primideale.

  Falls der Ring nur endlich viele Primideale enthält, gilt die Verstärkung:

      bigcap_{U offen, dicht} U = Menge der minimalen Primideale.

* Sei A eine abgeschlossene Teilmenge. Sei U eine offene Teilmenge. Dann gilt:

      U <= A  <==>  { p in U | p minimales Primideal } <= A.

  Folglich: cl U = cl { p in U | p minimales Primideal }.

* Ouv(Spec A) ist isomorph zu Rad(A), vermöge

      U |--> { h in A | D(h) <= U }

  und

      a |--> bigcup_{h in a} D(h).

  Für eine offene Menge U, die einem Radikalideal I entspricht, gilt:
  p \not\in U <==> I <= p.

* Spec A ist lokaler topologischer Raum <==> A ist ein lokaler Ring.

  Es gilt sogar: Ein Schema ist genau dann als topologischer Raum lokal, wenn
  es das Spektrum eines lokalen Rings ist.

* D(I) (ein Unterschema von Spec(A)) ist genau dann affin, wenn I "codisjunctable" ist.
  http://mathoverflow.net/a/66901/31233

* D(I) ist genau dann (nicht nur offen, sondern auch) abgeschlossen, wenn
  ein Ideal J mit I + J = (1) und I cap J = sqrt(0) existiert. Das ist genau
  dann der Fall, wenn D(I) = D(e) für ein Idempotentes e ist.

  (Nein, das Ideal (e) ist wohl nicht immer automatisch ein Radikalideal. Ich
  meine also schon sqrt((e)).)

* Sei X --> Y ein Morphismus. Sei X affin. Dann ist X --> Y nicht automatisch
  affin. Aber schon, wenn Y (quasi-?)separiert ist.
  http://mathoverflow.net/questions/74806/are-morphisms-from-affine-schemes-to-arbitrary-schemes-affine-morphisms

* Spec(A) --> Spec(B) ist genau dann eine offene Immersion, wenn
  B --> A flach, von endlicher Präsentation und in Ring ein Epi ist.
  http://mathoverflow.net/a/20792/31233

  Alternativ: Genau dann, wenn das Bild von T in A das Einsideal ist,
  wobei T = { f in B | B[f^(-1)] --> A[f^(-1)] Iso }.
  http://mathoverflow.net/a/20790/31233
  (T ist stets ein Ideal.)

  Damit kann man zeigen: Spec A[S^(-1)] --> Spec A ist genau dann eine offene
  Immersion, wenn Lokalisierung weg von S dasselbe ist wie Lokalisierung weg
  von einem einzelnen Element. Denn für diesen Fall ist T = bigcap_{s in S} sqrt((s)).
  Also ist das von T in A[S^(-1)] erzeugte Ideal genau dann das Einsideal, wenn
  T cap S nicht leer ist, wenn also ein u aus S mit u in T existiert.
  Das ist die Behauptung. (Genauer noch kann man zeigen, dass die Saturierung
  von S mit { x | u in sqrt((x)) } übereinstimmt.)

* Auch offene *affine* Teilmengen von affinen Schemata sind nicht
  unbedingt von der Form D(f) für ein einziges f.
  http://mathoverflow.net/questions/7153/open-affine-subscheme-of-affine-scheme-which-is-not-principal

* Man könnte denken: Eine Teilmenge A ist genau dann abgeschlossen,
  wenn für p <= q aus p in A folgt, dass q in A. Und dual könnte man denken,
  dass eine Teilmenge U genau dann offen ist, wenn für p <= q aus q in U folgt,
  dass p in U.
  
  Die triviale Richtung ist jeweils wahr, die umgekehrte aber nicht.

  Ein Gegenbeispiel ist die Menge Spec Z \ { (0) } von Spec Z, die nicht
  abgeschlossen, aber trotzdem stabil unter Spezialisierung ist.

  In einem gewissen Sinn stimmt es aber "fast". Stichwort konstruierbare
  Mengen.

* Besitzt ein Schema eine Überdeckung durch "standardoffene" Mengen
  (von der Form D(f), wobei die f globale Funktionen sind), welche affin sind,
  so ist das Schema selbst schon affin.


=== Standardoffene Teilmengen in Proj S

Kann für beliebige Elemente f von S die offene Teilmenge

    D_+(f) := { p in Proj S | f nicht in p }

betrachten. Üblicherweise wird das nur für homogene Elemente f gemacht, oft
auch nur für solche vom Grad >= 1. Aber es gilt

    D_+(f) = bigcup_i D_+(f_i),

wenn f = sum_i f_i die Zerlegung in homogene Komponenten ist.

Für f aus S_+ und homogene Elemente g^i (beliebigen Grads) gilt:

    D_+(f) <= bigcup_i D_+(g^i) genau dann, wenn
        f in sqrt((g^i)_i).

Hier geht ein, dass bigcap { p | p homogenes Primideal mit a <= p } = sqrt(a)
ist, wenn a ein homogenes Ideal ist.

Für beliebige f und g^i gilt:

    D_+(f) <= bigcup_i D_+(g^i) genau dann, wenn
        f in (sqrt(((g^i)_i)^h) : S_+).

Dabei ist (__)^h die Homogenisierung (siehe kommutative-algebra.txt).


=== Morphismen in affine Schemata

Sei f : X --> Spec A gehörig zu phi : A --> O_X(X). Dann gilt für alle x aus X:

    f(x) = phi_x^(-1)[m_x] = { f in A | phi(f)_x nicht invertierbar in O_{X,x} },

wobei phi_x : A --> O_X(X) --> O_{X,x}. Umgekehrt ist phi die Komposition

    A --> Gamma(Spec A, O_(Spec A)) --> Gamma(X, O_X),

induziert durch f^# : f^(-1) O_(Spec A) --> O_X, bzw. genauer durch seinen
Transponierten O_(Spec A) --> f_* O_X.

Verwandt ist folgende Beobachtung: Die Kategorien der affinen Schemata ist eine
reflektive Unterkategorie der Kategorie aller Schemata. Der Reflektor, d.h. der
Linksadjungierte zur Inklusion Aff --> Sch, ist Sch --> Aff, X |-> Spec Gamma(X,O_X):

    Hom_Aff(Spec Gamma(X,O_X), Spec A) =
    Hom_Ring(A, Gamma(X,O_X)) =
    Hom_Sch(X, Spec A).

Der Reflektor ist nicht treu, man kann hier also nicht von einer
Vervollständigung sprechen.

Bin durch
http://mathoverflow.net/questions/9134/arbitrary-products-of-schemes-dont-exist-do-they
darauf gestoßen.

* Spec : CRing^op --> Sch ist der Rechtsadjungierte zu
  Gamma : Sch --> CRing^op. Folglich schickt Spec Kolimiten in Ringen
  auf Limiten in Schemata. Und Gamma schickt Kolimiten in Schemata auf Limiten
  in Ringen.

* Ein Beispiel für ein Kolimes, der in der Kategorie der Schemata
  nicht existiert: Der Kodifferenzkern von Spec k(t) --> A^1 amalg A^1.
  Dieser wäre "zu nicht-separiert".
  http://mathoverflow.net/questions/9961/colimits-of-schemes


=== Spektren von Algebren, die endlich als Modul sind

* Sei k ein Körper. Sei A eine k-Algebra, die endlich als Modul ist.
  Dann gibt es Erzeuger x_1,...,x_n, welche wegen Cayley--Hamilton (betrachte
  die k-lineare Abbildung x |-> x_i x) ganz über k sind: f_i(x_i) = 0.

  Da es in k nur endlich viele Nullstellen dieser Polynome f_i gibt, gibt es
  nur endlich viele k-Algebrenhomos A --> k, d.h. k-rationale Punkte von Spec A
  über k.

* Sei X --> Y ein endlicher Schemamorphismus über k.
  Dann besitzen die Fasern nur endlich viele k-rationale Punkte.
  Außerdem besitzen die Fasern überhaupt nur endlich viele Punkte, aber wie
  zeigt man das? Siehe:
  http://math.stackexchange.com/questions/112345/the-fibers-of-a-finite-morphism-of-affine-varieties-are-all-finite

  Sei A --> B ein endlicher Ringhomo. Dann besitzen alle Fasern nur endlich
  viele Primideale.

  Durch Übergang zur Faser können wir davon ausgehen, dass A ein Körper ist.
  Da B als A-Algebra endlich erzeugt ist, ist Algebra II, Blatt 10, Aufgabe 3d)
  anwendbar. Somit ist B als Ring artinsch.

  Da artinsche Ringe von Dimension 0 sind, sind alle Primideale in B schon
  maximal. Von solchen gibt es nur endlich viele, wie die Betrachtung eines
  minimalen Elements in der Menge der endlichen Schnitte von maximalen Idealen
  zeigt.


=== Rationale Punkte

* Jedes nichtleere quasikompakte Schema besitzt einen abgeschlossenen Punkt.
  http://www.math.utah.edu/~schwede/Papers/SchemeWithoutPoints.pdf, Seite 12.

* Jeder Morphismus Spec K --> X faktorisiert über Spec k(x) --> X,
  wobei x der eindeutige Punkt im mengentheoretischen Bild bezeichnet.
  Insbesondere ist K also eine Körpererweiterung von k(x).

* Jeder Morphismus Spec A --> X, wobei A ein lokaler Ring ist,
  faktorisiert über Spec O_{X,x} --> X, wobei x das Bild des
  abgeschlossenen Punkts bezeichnet. Der Ringhomo O_{X,x} --> A
  ist dabei sogar lokal.

  (Beweis: Lokal habe Spec A --> Spec R, also R --> A. Das Urbild des maximalen
  Ideals ist irgendein Primideal p (entsprechend x). Also faktorisiert R --> A
  über R --> R_p. Der Homo R_p --> A ist lokal, da ein Element von R genau dann
  nicht in p liegt, wenn sein Bild in A nicht im maximalen Ideal liegt.)

* So kann man also die (topologischen) Punkte eines Schemas aus seinem
  Punktefunktor rekonstruieren: Als die Menge der Abbildungen
  Spec K --> X modulo Verfeinerung (Spec K --> X und Spec K' --> X sollen als 
  äquivalent zählen, wenn es Spec L --> Spec K und Spec L --> Spec K' gibt,
  sodass die Raute kommutiert). Oder als die Menge der Abbildungen
  Spec A --> X mit A lokal (und lokalen Verfeinerungsmorphismen).

  Also: X = Lan_Spec(!)(X) -- die Links-Kan-Erweiterung von

      Field^op ---> Set, K |-> {*}

  längs Field^op --> Sch, K |-> Spec K.

  Oder auch: X = int^K Hom_Sch(Spec K, X).

  Vielleicht gilt auch sowas wie:

      X = int^A Hom_Sch(Spec A, X) * Spec A,

  und zwar als topologische Räume, lokal geringte Räume oder als Schemata.
  Update: Jup, gilt in der Kategorie von Schemata und in den Oberkategorien von
  Zariski-Garben und -Prägarben auf Aff. Dann ist das nämlich einfach die
  übliche Dichtheitsaussage der Yoneda-Einbettung.

  Wenn ich dann a priori wüsste, dass QCoh : Sch^op --> Cat Limiten bewahrt
  (also Kolimiten in Sch auf Limiten in Cat schickt, in einem 2-kategoriellen
  Sinn), würde sofort folgen:

      QCoh(X) = QCoh(int^A [Spec A, X] * Spec A)
              = int_A [Spec A, X] * QCoh(Spec A).

* Spec k(x) --> X ist genau dann eine abgeschlossene Immersion,
  wenn x ein abgeschlossener Punkt von X ist.

* Sei f : X --> Y eine offene oder abgeschlossene Immersion. Sei x in X.
  Dann ist k(f(x)) --> k(x) ein Iso.

* Sei X ein Schema über k und x ein Punkt von X.
  Ist k --> k(x) ein Iso, so ist x abgeschlossen.

  Sei X ein Schema lokal von endlichem Typ über k, k algebraisch abgeschlossen,
  und x ein Punkt von X.
  Ist x abgeschlossen, so ist k --> k(x) ein Iso.
  (Denn k(x) ist dann ein Quotient von O_X(U) (für eine geeignete affinoffene
  Teilmenge U) modulo einem maximalen Ideal ("A/m") und daher eine endliche Erweiterung
  von k. Das "daher" wird im Liu, Kor. 2.1.12 auf Seite 30 begründet.)

  [Gegenbeispiel, falls k nicht algebraisch abgeschlossen: (X^2 + 1) in A^1_R.]

* Sei X ein Schema über k und x ein Punkt von X.
  Ist k(x) | k endlich, so ist x abgeschlossen.
  Ist x abgeschlossen und X lokal von endlichem Typ über k, so ist k(x) | k endlich.

* Der Funktor Sch/k --> Set, X |--> Hom_k(Spec k, X) ist natürlich nicht treu.
  Etwa sind die Morphismen

      Spec k[eps]/(eps)^2 --> Spec k[x]

  mit x |-> eps bzw. x |-> 2*eps verschieden (falls char k != 2), aber auf
  rationalen Punkten gleich.

  Der Funktor ist aber durchaus treu auf der vollen Unterkategorie der
  reduzierten k-Schemata (wenn k algebraisch abgeschlossen; laut Mumford,
  Lectures on algebraic curves, Seite 16).

* Sei f : X --> Y ein Morphismus von k-Schemata, mit X l.v.e.T./k.

  Sei x in X ein abgeschlossener Punkt.
  Wegen der lveT-Voraussetzung ist dann k(x) | k endlich.

  Dann haben wir den Turm k(x) | k(f(x)) | k.
  Daher ist k(f(x)) | k ebenfalls endlich, und somit ist f(x) wieder
  abgeschlossen.

  # Wenn k algebraisch abgeschlossen ist, sind k(x) und k(f(x)) beide gleich k.
    Dann sind also die Mengen der k-rationalen Punkte und der abgeschlossenen
    Punkte identisch, und f induziert eine Abbildung zwischen ihnen.

* Ein sehr wichtiges Prinzip: Gültigkeit offener Bedingungen kann auf
  quasikompakten Schemata schon auf abgeschlossenen Punkten geprüft werden.
  Siehe topologie.txt.


=== Verschwinden von Schnitten

* Sei A ein lokaler Ring mit maximalem Ideal m.
  Dann erhält und reflektiert (!) der kanonische Ringhomo

      A --> A/m

  Invertierbarkeit.

* Man sagt, ein Schnitt eines Moduls F verschwinde an einem Punkt, wenn
  er in F_x \otimes_{O_x} k(x) null ist.

* Abbildungen X --> P^n entsprechen Geradenbündeln L auf X zusammen
  mit n+1 globalen Schnitten dieses Bündels, welche keine gemeinsame Nullstelle
  besitzen. Siehe Thm. 16.3.7 (Omnibustheorem zu Pullback) und 16.4.1 in Vakil.

* Sei f globaler Schnitt eines Geradenbündels L. Dann habe O_X --> L.
  Dieser Morphismus ist genau dann ein Iso, wenn er lokal ein Iso ist;
  teste auf Überdeckung, auf der L trivial ist. Die Einschränkung
  O_X|_U --> L|_U ist durch Multiplikation mit f|_U gegeben. Sie besitzt genau
  dann ein Inverses, wenn f (aufgefasst als Funktion auf U) ein Inverses
  besitzt. Das ist genau dann der Fall, wenn f nicht null ist in den Fasern.
  Also: O_X --> L ist genau dann ein Iso, wenn f nirgendwo verschwindet.

* Sei L ein Geradenbündel. Lineare Abbildungen phi : O^n --> L entsprechen
  bekanntlich der Angabe von n globalen Schnitten auf L. Diese haben genau dann
  keine gemeinsame Nullstelle, wenn phi surjektiv ist.

* Nächster Schritt: Was ist ein regulärer Schnitt?


=== Verschwindungsschema

Sei s ein globaler Schnitt von O_X. Dann habe das Unterschema iota : V(s) --> X
mit der kurzen exakten Sequenz

    0 --> (s) --> O_X --> iota* O_V --> 0.

Sei f : Y --> X ein Schemamorphismus.

Behauptung: f faktorisiert genau dann über iota, wenn f^#(s) = 0.

Beweis:
"==>" Der Ringmorphismus f^# : O_X --> f_* O_Y ist also die Komposition

         O_X --> iota_* O_V(s) --> iota_* fquer_* O_Y ~~ f_* O_Y.

      Schon der vordere Morphismus schickt s auf Null.

"<==" Zunächst topologisch. Angenommen, s wäre in O_{X,f(y)} doch invertierbar.
      Dann wäre s also auf einer kleinen offenen Umgebung U von f(y)
      invertierbar. Nach Voraussetzung gilt trotzdem, dass f^#(s) in
      O_Y(f^(-1) U) Null ist. Also gilt 1 = 0 in O_Y(f^(-1) U). Insbesondere
      ist damit O_{Y,y} der Nullring. Das kann aber nicht sein.

      Nun ist O_V(s) --> fquer_* O_Y zu definieren. Äquivalent (!) ist
      iota_* O_V(s) --> iota_* fquer_* O_Y ~~ f_* O_Y zu definieren. Wegen
      iota_* O_V(s) ~~ O_X/(s) ist nach dem Homomorphiesatz so ein Morphismus
      einfach durch f^# gegeben.

      Bemerkung: Für's topologische Faktorisieren genügt schon, dass f^#(s)
      in allen O_{Y,y} nicht invertierbar ist.


Allgemeiner gilt bestimmt folgendes: Sei L ein Geradenbündel auf X und s ein
globaler Schnitt von L. Dann kann man ebenfalls V(s) definieren. Die universelle
Eigenschaft lautet dann: Ein Morphismus f : Y --> X faktorisiert genau dann
über V(s) --> X, wenn der von s induzierte Schnitt in dem O_Y-Modul f^*(L) Null
ist. Habe das aber nicht geprüft!


=== Verschwindungsschema II

Zu einem globalen Schnitt s eines Vektorbündels E kann man ebenfalls ein
Verschwindungsschema konstruieren. Lokal/intern ist ein solcher nämlich einfach durch
mehrere Schnitte von O_X gegeben: s_1, ..., s_n. Nehme dann als Idealgarbe
einfach (s_1, ..., s_n) (nicht (s_1 * ... * s_n)).

Ist alpha : E --> F ein Morphismus von Vektorbündeln, so kann man auch sinnvoll
vom zugehörigen Verschwindungsschema sprechen. Lokal ist ein solcher einfach
durch rk(E) * rk(F) viele Schnitte von O_X gegeben, die sollen alle
verschwinden.

Ist alpha speziell von der Form E --> O_X, so wird das Bild von alpha gerade
die Idealgarbe sein.


=== Unterschemata

* Sei f : X --> Y eine abgeschlossene Immersion. Dann habe die kurze exakte
  Sequenz

      0 --> I_{X/Y} --> O_Y --> f_* O_X --> 0.

  Der Modul vorne heißt auch /Idealgarbe von f/.

  Höchstwahrscheinlich gilt f^* f_* O_X ~~ O_X (kanonisch). Jup, gilt.
  (Tensorieren mit Algebra, deren Strukturmorphismus surjektiv ist.)

  Es gilt: supp(f_* O_X) = V(I) = { y in Y | I_y != (1) in O_{Y,y} }.

* Einschränken auf abgeschlossene Unterschemata (vermöge i^*) ist nicht exakt.
  Beispiel: Multiplikation mit T (als Morphismus O_X --> O_X) auf X = Spec k[T]
  ist ein Mono, aber nach Einschränken auf V(T) nicht mehr (ist dann die
  Nullabbildung).

* Es gilt: im I|_x = 0 als Ideal von k(x) <==> x in V(I).

  "==>": Angenommen, I_x = (1). Dann I|_x = k(x).
  "<==": I|_x --> k(x) faktorisiert über m_x|_x --> k(x), d.h. über die
  Nullabbildung.

* Genau dann ist V(I) wieder ein Schema (statt nur ein lokal geringter Raum),
  wenn I quasikohärent ist, wenn I lokal von Schnitten erzeugt wird.

* Sei etwa Y = P^1, X = Spec k und f die Inklusion des abgeschlossenen Punkts
  P = (0:1). Dann ist die Sequenz

      0 --> O(-1) --> O --> k(P) --> 0

  exakt. Die Abbildung vorne ist dabei durch Multiplikation mit x_0 gegeben.
  Also ist O(-1) die Idealgarbe von { P }.

* Nach http://www.math.rice.edu/~hassett/teaching/465spring04/CCAGlec9.pdf:
  k algebraisch abgeschlossen, p \in k[x_0,...,x_n] homogen vom Grad D > 0 und
  irreduzibel. Dann ist die Idealgarbe von

      H := { [x_0 : ... : x_n] | p(x_0,...,x_n) = 0 }

  durch O_(P^n)(-D) gegeben.

* Die erste infinitesimale Umgebung von X --> Y ist dasjenige
  Unterschemata von Y, was von I^2 ausgeschnitten wird.
  Hat was mit dem Konormalkomplex zu tun!

* Auflösung von f_*(O_X): Siehe GenHKR.pdf, Seite 8f.!

* Abgeschlossene Immersionen sind fast nie flach (siehe Liu, Kapitel 4.3.1,
  Beispiel 3.6), wenn sie nicht auch offen sind.

* HOM_{O_X}(O_Z, F) ~~ Ann_{J_Z}(F) = { s:F | J_Z s = 0 },
      wenn Z ein abgeschlossenes Unterschema von X mit Idealgarbe J_Z ist.

* Bemerkung: Die Idealgarbe der Diagonale wird von (pi_1^#(f) - pi_2^#(f))
  erzeugt. Beweis in Ravi Vakil (21.2.23): Sei sum_i x_i y_i = 0.
  Dann sum_i (x_i tensor y_i) = sum_i (x_i tensor y_i - x_iy_i tensor 1) =
  sum_i x_i (1 tensor y_i - y_i tensor 1).


=== Normalenbündel und Co.

Sei f : Y --> X eine abgeschlossene Immersion. Sei I die zugehörige Idealgarbe.
Dann hat I/I^2 Träger auf Y, kann also als Modul auf Y angesehen werden.
Der so definierte O_Y-Modul ist N_{Y/X}^vee, die Konormalgarbe.
[ Kurz: Die Konormalgarbe ist f^*(I). Ist es wirklich so einfach? Jup. ]

Die Normalgarbe ist der ihr O_Y-Duales.

* N_Y = TX|_Y / TY
* (N_Y)^ ist Kern von Omega_X|_Y --> Omega_Y.

* Falls Y lokal regulär ist, d.h. lokal durch reguläre Sequenzen gegeben ist,
  d.h. dass in der internen Sprache gilt, dass I durch eine reguläre Sequenz
  erzeugt wird, so ist I/I^2 auf Y lokal frei. In diesem Fall darf man daher auch
  vom (Ko-)Normal*bündel* sprechen.

  Siehe schnitttheorie.txt für eine Auflösung von O_X/I = f_*(O_Y).

* Intuition: Lokale Schnitte der Konormalgarbe sind die linearen Anteile von
  Funktionen auf X, welche auf Y verschwinden. Ein Tangentialvektor von X an
  y in Y kann bekanntlich als Funktion auf linearen Anteilen gesehen werden; auf
  Anteilen von Funktionen, welche auf Y verschwinden, ist ein Tangentialvektor
  Null, falls er tangential zu Y ist.

* Man hat eine exakte Sequenz

      N_{Y/X}^vee --> f^*(Omega_X) --> Omega_Y --> 0.

  Unter Glattheitsbedingungen steht auch vorne noch eine Null.

* Die Konormalgarbe kann man auch direkt auf Y als J/J^2 definieren, wobei J =
  ker(f^{-1} O_X --> O_Y). (Nimm dazu die Unterschemasequenz auf X und ziehe sie
  zurück. Dabei bleibt sie exakt. Daher sieht man, dass J = f^{-1}(I).)

* Die Konormalgarbe lässt sich auch als HOM_{O_X}(J, O_Y) ausdrücken:
  (Bedenke O_Y = O_X/J.)

      HOM_{O_X}(J, O_Y) = HOM_{O_Y}(J tensor_{O_X} O_Y, O_Y) =
          HOM(J/J^2, O_Y) = N_{Y/X}.

* Falls I = (f), f regulär, so ist I/I^2 als O/I-Modul frei mit Basis (f).

* Falls Y ein effektiver Cartier-Divisor ist, also lokal durch eine reguläre
  Gleichung gegeben werden kann, so gilt: N = O_X(Y)|_Y.

  Das ist mir unklar.

  Allgemeiner gilt: Sei L ein Geradenbündel und s ein Schnitt, sodass
  Multiplikation mit s regulär. Dann ist L^ --> O, theta |-> theta(s) injektiv.
  So wird L^ zur Idealgarbe von V(s). Es gilt dann: N_{V/X} = L|_Y.

* Im Spezialfall, dass Y ein Punkt ist, sollte die Normalgarbe mit dem
  Tangentialraum übereinstimmen. Das ist auch der Fall, denn J "ist" dann das
  maximale Ideal.

* Unbedingt verstehen:
  http://mathoverflow.net/questions/111464/self-intersection-and-the-normal-bundle

  Grob steht da: Ein Schnitt des Normalenbündels definiert eine Deformation
  erster Ordnung. (Zu jedem Punkt kennt man seine Verschiebung.) Das ist ferner
  dasselbe wie ein Tangentenvektor im Hilbertschema der abgeschlossenen
  Unterschemata (welches Hilbertschema ist das genau?). Der Grad des
  Normalenbündels gibt an, wie viele Nullstellen ein solcher Schnitt hat. Das
  entspricht daher der Anzahl der Schnittpunkte des Originalobjekts mit dem
  deformierten Objekt.

  Eine infinitesimale Deformation von C ist durch einen Schnitt v von N_{X/C}
  gegeben. v legt die Richtungen fest, in die C definiert wird. Der Grad von N
  ist die Anzahl der Nullstellen von v, also die Anzahl der Schnittpunkte von C
  mit C' und somit der Selbstschnitt von C. Das passt mit Manins Definition
  zusammen:

      (C . C) = chi(Lambda^* N^) = chi(O) - chi(N^) = -deg(N^) = deg(N).

* Das Konormalenbündel von Delta in XxX ist das Kotangentialbündel von X.

  In Formeln: Betrachte die Unterschemasequenz zur Einbettung von Delta in XxX.

      0 --> J --> O_{XxX} --> O_X --> 0.

  Dann gilt: Delta^*(J/J^2) = Omega^1_X.

  Der Beweis ist einfach: Affin ist J = ker(A tensor A --> A). Bekanntermaßen
  definiert dann J/J^2 den Modul der Kotangentialformen.

  Anschaulich: J/J^2 --> Omega^1, [g(x,y)] |-> dg(x,x)|_TX.

  Habe mir auch notiert: Delta^*(J/J^2) = Delta^(-1)(J/J^2), da
  Delta^(-1)O_{XxX} --> O_X surjektiv ist und Delta^(-1)(J/J^2) schon eine
  O_X-Struktur trägt. Letzteres sollte sich intern schön bestätigen lassen.

  In diesem Zusammenhang gibt es auch eine Erweiterung, die im Allgemeinen
  nichttrivial ist: 0 --> Omega^1_X --> A --> O_X --> 0. Hinreichend für
  Nichttrivialität ist die Nichtverschwindung der Chernklassen von T^*X.
  Bei A handelt es sich evtl. um das erste Jet-Bündel.
  http://mathoverflow.net/a/57689

* "Was in der glatten Kategorie lokal gilt, gilt in der algebraischen Kategorie
  infinitesimal."

* http://mathoverflow.net/questions/111430/tangent-bundle-and-normal-bundle-in-self-product
  Sei K die Idealgarbe zur Diagonale in X x X, wobei X eine glatte Varietät ist.
  Dann ist Omega^1 der Pullback von K/K^2. Ferner hat man die exakte Sequenz

      0 --> K/K^2 --> Omega_{X x X} otimes O_Delta --> O_Delta --> 0.

* http://math.stackexchange.com/questions/194607/computation-of-normal-cones

* Der Tangentenbündelfunktor Sch/S --> Sch/S ist rechtsadjungiert zum
  Aufdickungsfunktor (Martin Brandenburg, Lemma 5.12.1):

  Hom_S(T, Spec_X Sym Omega^1_{X|S}) =
  coprod_{f : T --> X über S} Hom_X(T, Spec_X Sym Omega^1) =
  coprod_{f : T --> X über S} Hom_{O_X-Mod}(Omega^1, f_*(O_T)) =
  coprod_{f : T --> X über S} Der_{mu^{-1}(O_S)}(O_X, f_*(O_T)) =
  coprod_{f : T --> X über S} Hom_S(T[eps], X)_{eingeschränkt auf T gleich f} =
  Hom_S(T[eps], X).

  Für den nichttrivialen Schritt siehe kaehler.txt; der Schemamorphismus muss
  nur noch auf Ringniveau angegeben werden, da er topologisch die Identität
  sein muss.

* Sei Y durch reguläre Schnitte eines Vektorbündels E auf X gegeben.
  Dann hat man für O_Y eine Koszul-Auflösung Lambda^* (E^)^n.
  Mit dieser zeigt man:

      Tor_*(O_Y, O_Y) = Lambda^*_{O_Y}(N^),

      EXT^*(O_Y, O_Y) = Lambda^*_{O_Y}(N),

      H^*(f^* f_* O_Y) = Lambda^{-*}_{O_Y} N^,

  wobei N die Normalgarbe und N^ die Konormalgarbe ist.
  Wird bestätigt durch http://mathoverflow.net/a/108537 und Huybrechts, Seite 251.

  Nutze zum Nachweis:
  * M tensor_A B --> Hom_A(M^, B) Iso für M frei
  * Hom_B = Hom_A für B-Moduln (wenn A --> B surjektiv)

* Als Korollar: Sei pt ein abgeschlossener Punkt in einem Schema X,
  der lokal durch reguläre Gleichungen ausgeschnitten werden kann. Dann folgt:

      Tor^{O_X}_*(O_pt, O_pt) = Lambda^*(N^)  (denke N^ = Omega^1_X|_pt)
      EXT_{O_X}^*(O_pt, O_pt) = Lambda^*(N)   (denke N = T_pt X)
      Ext_{O_X}^*(O_pt, O_pt) = Lambda^*(N)   (nutze lokal-zu-global SS)

  Insbesondere vertauscht EXT und Ext (anders als Garbenkohomologie-H) NICHT
  mit abgeschlossenen Immersionen. Denn EXT_{O_pt} = Ext_{O_pt} sind ja trivial
  in höheren Graden.

* Stets gilt auch folgendes. Sei X = Spec A und x ein Punkt von X (nicht
  unbedingt abgeschlossen). Dann gilt

      Ext^1_A(k(x), k(x)) = T_x X.

  Dabei ist der Zariski-Tangentialraum definiert als

      T_x X = Hom_k(x)(m_x/m_x^2, k(x)) = Hom_k(x)(m_x tensor_A k(x), k(x))
            = Hom_A(m_x, k(x)).

  Um das einzusehen, betrachtet man die kurze exakte Sequenz

      0 --> m_x --> A --> k(x) --> 0

  und die induzierte lange exakte Sequenz:

      Hom(A, k(x)) ---> Hom(m_x, k(x)) ---> Ext^1(k(x), k(x)) ---> Ext^1(A, k(x))
          ||                  ||                   ||                    ||
          k(x) ----0------> T_x X ---------------> % ------------------> 0.

  Wenn x sogar ein Punkt von Kodimension 1 ist -- sodass m_x also von einem regulären
  Element erzeugt wird und daher frei vom Rang 1 ist --, gibt es keine höheren
  Ext-Gruppen.

* Sei Z <= X ein abgeschlossenes Unterschema der Dimension 0.
  (Genauer benötigen wir, dass H^1(O_Z) = 0.) Dann ist
  
      N_{Z|X} = Hom(I_Z, O_Z) = Ext^1(O_Z, O_Z).

  Nutze dazu die lange exakte Sequenz zur kurzen exakten Sequenz
  0 --> I_Z --> O_X --> O_Z --> 0. Der Term Ext^1(O_X, O_Z) = H^1(O_Z)
  darin verschwindet, und die Abbildung Hom(O_X, O_Z) --> Hom(I_Z, O_Z)
  ist Null.

  Übrigens: Hom_{O_X}(O_Z, O_Z) = O_Z (als O_X- und als O_Z-Moduln).


=== Fasern

* Bsp. 9.3.3 in Vakil ("Consider the projection of the // parabola")
  erlärt super, wie man Fasern ausrechnet.

* (f^* E)|_x = E|_f(x) tensor_k(f(x)) k(x).


=== Flachheit

* Angeblich gilt: X --> Y flach bei x genau dann, wenn
  X x_Y Spec O_{Y,y} --> Spec O_{Y,y} flach bei x' ist,
  wobei x' Urbild von x unter X x_Y Spec O_{Y,y} --> X ist.

* Sei f : X --> S ein Morphismus von lokal geringten Räumen.
  Sei F eine Garbe auf X, welche über S flach ist (also flach als
  f^{-1}(O_S)-Modul ist). (Es genügt schon, dass F_x flach über O_{S,f(x)}
  ist.) Sei x in X. Dann gilt:

      F_x ist frei  <===>  (F|_s)_x ist frei.

  Dabei ist F|_s der Rückzug von F längs X_s --> X.
  Und X_s ist die Faser von X über Spec k(s).

  "==>": Klar, sogar ohne Endlichkeitsvoraussetzungen, denn
  (F|_s)_x = F_x tensor_{O_{X,x}} O_{X_s,x}.

  "<==": Braucht Endlichkeitsvoraussetzungen. Motto: "In horizontaler Richtung
  flach und in vertikaler Richtung frei bedeutet, insgesamt frei zu sein."


=== Oberhalbstetigkeit der Faserdimension

* http://mathoverflow.net/questions/193/when-is-fiber-dimension-upper-semi-continuous
  Demzufolge gilt: Sei f : X --> Y ein l.v.e.T. Morphismus von Schemata. Dann ist
  die Funktion

      x |-> dim_x(X_{f(x)})

  schwach oberhalbstetig.

* Die Projektion des Kegels auf die z-Achse ist kein Gegenbeispiel.
  Denn R[X]/(X^2 + Y^2) hat immer noch Krull-Dimension 1.


=== Beispiele für Modulgarben gewisser Art

* Sei E eine Modulgarbe. Sei x0 ein Punkt derart, dass jeder von x0
  verschiedene Punkt eine offene Umgebung besitzt, die x0 nicht enthält. (Zum
  Beispiel könnte x0 ein abgeschlossener Punkt sein.)

  Definiere E'(U) = { s in E(U) | x0 in U ==> s = 0 in E_x0 }.

  Es ist E' eine Garbe mit E'_x = E_x für x != x0 und E'_x0 = 0.

  In den meisten Fällen sollte E' ein Beispiel dafür sein, dass sich Nullheit
  des Halms nicht immer auf Nullheit in einer Umgebung überträgt.

* Beispiel für (E tensor F)(U) != E(U) tensor F(U):

  Sei X = Spec k[X]. Sei F die Wolkenkratzergarbe bei einem Punkt (X-a)
  und E die '-Version von O_X bezüglich eines anderen Punkts (X-b).

  Da E(X) = 0 (ich kenne die regulären Elemente in k[X]), also ist die rechte
  Seite Null. Aber E tensor F = F. Also ist die linke Seite nicht Null.


=== Flache Familien

* As others have stated above, flatness of a family should mean that the fibres
  of the family vary somehow continuously. Let state this in terms of a module
  M over a ring R. Here a fibre of M over a prime P of R is M(P), the
  k(P)-vector space MP/PAP, where k(P) denotes the quotient field of R/P. If
  the fibres vary continuously, it should be possible to extend a basis of M(P)
  to nearby fibres, i.e. that the lift of a k(P)-basis wrt. the canonical map
  MP -> M(P) should yield a basis of MP over AP, i.e. that the stalk MP is a
  free module.

  And in fact: If M is a finitely presented R-module it is flat if and only if M
  is locally free, i.e. that stalks are free.


=== Wieso Primideale statt maximale Ideale?

* Urbildoperation erhält nur Primalität, nicht Maximalität.
* Für Basiswechsel: Etwa schickt A^1_C --> A^1_Q die nicht-algebraischen Punkte
  auf den generischen.
* Generische Punkte machen Spaß!
* Nur so ist (Spec A, O) die universelle Lokalisierung von A.
* Nur so ist A |--> (Spec A, O) der Linksadjungierte zum Vergissfunktor LRS --> Ring.
* Nur so wird die Kategorie der affinen Schemata dual zur Kategorie der Ringe.

Genauer zum Punkt universelle Lokalisierung:

  Gegeben Ring A. Gesucht lokaler Ring A' zusammen mit Morphismus iota : A --> A',
  sodass es zu jedem Morphismus A --> B in einen lokalen Ring B genau einen
  lokalen Morphismus A' --> B gibt, der vorkomponiert mit A --> A' wieder A --> B
  ergibt.

  Dieses Problem ist in Set nicht lösbar: Denn sei p ein Primideal und s \not\in p.
  Dann folgt, dass iota(s) invertierbar in A' ist, da s invertierbar in A_p
  ist. Sei nun q ein weiteres Primideal. Dann folgt, dass s auch invertierbar
  in A_q ist, d.h. nicht in q enthalten ist. Damit folgt zusammengenommen: Je
  zwei Primideale von A sind gleich.

"One must, of course, understand that the space Grothendieck associated with an
algebraic variety is not the set of its own points, but the set of its
irreducible subvarieties."
Cartier in http://library.msri.org/books/sga/from_grothendieck.pdf, Seite 398.


=== Graduierung

Sei A ein Ring. Dann stehen Z-Graduierungen auf A (Familien von Untergruppen
(A_n)_n mit bigoplus_n A_n --> A Iso, sodass A_n A_m <= A_(n+m) und 1 in A_0)
und G_m-Wirkungen auf Spec A in kanonischer Eins-zu-Eins-Korrespondenz.

* Ist eine Z-Graduierung auf A gegeben, so definiere eine Wirkung
  rho : G_m x Spec A --> Spec A durch

      rho^#(a) = sum_n a_n t^n,

  wobei a = sum_n a_n die Zerlegung in homogene Komponenten ist.

* Ist rho : G_m x Spec A --> Spec A eine Wirkung, so definiere A_n durch

      A_n = { a in A | exists b in A: rho^#(a) = b t^n }.

  Die Forderungen A_n A_m <= A_(n+m) und 1 in A_n folgen dann einfach daraus,
  dass rho^# ein Ringhomo ist.

  Die Injektivität von bigoplus_n A_n --> A_n verwendet die Injektivität von
  rho^#. Die ist gegeben, denn rho besitzt ein Rechtsinverses (folgt aus dem
  Wirkungsaxiom zur Neutralität).

  Die Surjektivität folgt aus dem Neutralitätsaxiom und dem Assoziativitätsaxiom.
  Ersteres garantiert, dass wir jedes a aus A als Summe a = rho^#(a)|_{t=1}
  schreiben können. Das Assoziativitätsaxiom garantiert, dass die einzelnen
  Summanden wirklich in A_n liegen.


=== Garbe meromorpher Funktionen

Siehe: Steven Kleiman, Misconceptions about K_X.
http://retro.seals.ch/digbib/fr/voltoc?rid=ensmat-001:1979:25&e=3&id=ssearch&id2=browse4&id3=#n3

Sei X ein Schema. Dann ist K_X die Garbifizierung der (nur über die
affinoffenen Teile gehenden!) Prägarbe

    U |--> Quot O_X(U).

Wenn man über alle offenen U gehen möchte, muss man K_X als Garbifizierung der
Prägarbe

    U |--> O_X(U)[S(U)^(-1)]

definieren, wobei S(U) = { f | f_x ist kein Nullteiler in allen O_x, x \in U }.

* Es gilt: Halm K_x = S_x^(-1) O_x, wobei S_x = lim_{x \in U} S(U). Das kann eine
  echte Teilmenge von Quot O_x sein. Mit Quot ist natürlich immer die
  Lokalisierung an den regulären Elementen gemeint.

* K_X ist auf integren Schemata eine flasque Garbe, da sie die konstante Garbe
  K(X) = O_{X,xi} ist. (Prüfen!)

* Auf X = Spec A, A Integritätsbereich, kann man ganz einfach zeigen, dass K_X
  die konstante Garbe zu K(X) = O_{X,xi} = Quot A ist:

  Habe die Prägarbenabbildung

      (Quot A)_{konst,pre} --> O_X[reg^(-1)]_pre,

  welche auf einer offenen nichtleeren Menge U (welche daher zusammenhängend
  ist!) x/s auf x/s schickt. Das ist okay, denn wenn s nicht null in A ist, ist
  s regulär in allen lokalen Ringen.

  Dann Quelle und Ziel vergarben. Halmweise ist das ein Iso (wieso?).

* Siehe Stacks Project: http://stacks.math.columbia.edu/tag/01RR.
  Kann ich den Beweis von http://stacks.math.columbia.edu/tag/01X5 bringen?
  Ist http://math.stackexchange.com/questions/446846/sheaf-of-meromorphic-functions-on-an-integral-scheme
  korrekt?


=== Topologische Räume von Dimension 0

* Für topologische Räume von Dimension 0 gilt: Die irreduziblen Komponenten sind
  durch

      cl {x}

  für x \in X gegeben. Zwei solche Mengen überlappen nur trivial oder sind
  gleich.

* Angeblich: Ist X ein Schema mit dim X = 0, das nur endlich viele Punkte
  enthält, so ist X affin und diskret. Die Diskretheit ist klar: Lokal ist X
  sicher affin (das Spektrum eines Dimension-0-Rings) und wegen der
  Dimensionsbedingung diskret (jedes D(f) hat ein offenes Komplement). Ein
  Raum, der lokal diskret ist, ist es auch global.

* Angeblich: Spec(A) ist genau dann diskret, wenn A artinsch ist. In diesem Fall
  ist Spec(A) sogar endlich.
  http://www.math.cmu.edu/users/jcumming/teaching/commalg05/homeworks/commalg05_final.pdf


=== Motivation für Schemata

* Siehe David Mumford, My Introduction to Schemes and Functors.
  http://www.dam.brown.edu/people/mumford/beyond/papers/2014b--Recollections-AGroth.pdf.
  Redet auch über das Picard-Schema und die Geradenbündel auf Spec k[eps].

* Siehe auch die Antwort von Allen Knutsen auf
  http://mathoverflow.net/questions/28496/what-should-be-learned-in-a-first-serious-schemes-course.

* http://math.mit.edu/~mckernan/Teaching/07-08/Spring/18.726/l_1.pdf:
  Möchte keine Einbettung in projektiven Raum vorschreiben.
  Quotienten nach Gruppenwirkungen.
  Fasern von Familien sind nicht alle Varietäten.

* Universelle Lokalisierung

* Aufblasung

* Generische Punkte; oder präziser ausgedrückt: Möchte das klassische Spektrum
  nüchternifizieren! Dann kommt das schematheoretische Spektrum raus.


=== Quotienten

* Wenn man den Quotient als Spektrum des Invariantenrings konstruiert, so
  ist C^n / C^* = C. Das ist nicht, was man möchte.
  http://www.northeastern.edu/iloseu/Barbara_14_complete.pdf, Seite 4.

* Abhile liefert natürlich GIT.


=== Flacher Basiswechsel

* http://arxiv.org/pdf/math/0504590.pdf


=== Nullstellensatz

Sei k algebraisch abgeschlossen und M eine Menge von Polynomen aus
k[X_1,...,X_n]. Dann gilt:

    V(M)_naiv = leer  <==>  1 \in (M).

Damit ist mit V(M)_naiv die gemeinsame Nullstellenmenge gemeint.

Beweis durch folgende Kette äquivalenter Aussagen:
* V(M)_naiv = leer
* für alle maximalen Ideale m: M <= m ==> bot  (k alg. abg. und nochwas?)
* für alle Primideale p: M <= p ==> 1 in p  (Zorn)
* 1 \in Schnitt über alle Primideale p mit M <= p
* 1 \in sqrt(M)  (Zorn)
* 1 \in (M)

"Note also that one can deduce the Nullstellensatz from this result, which
kills two birds with one stone." http://mathoverflow.net/a/28633/31233


=== Grad und Geschlecht

http://math.la.asu.edu/~paupert/degreegenus.pdf
Alex Pruss, The Degree-Genus Formula...

http://www.math.utah.edu/~bertram/6030/12Classification.pdf

Super:
http://www.imsc.res.in/~kapil/geometry/ais/2_genus.html

http://mathoverflow.net/questions/92771/a-geometric-characterization-for-arithmetic-genus
geometrische Charakterisierung der hirzebruchschen arithmetischen Zahl
chi(X,O_X) (über einfache Formel verwandt mit dem arithmetischen Genus).

Beispiel: P^1 --> P^1, [x:y] |-> [x^2:y^2] induziert die Körpererweiterung
K(P^1) --> K(P^1), h(x/y) |-> h(x^2/x^2), bzw. isomorph k(T) --> k(T^2) und hat
daher Grad 2.

http://www.math.wisc.edu/~dewey/TalkNotes/AGdegree.pdf


=== Umgebungen

* Das Bild von Spec O_{X,x} --> X ist die Menge der Punkte aus X, die zu x
  spezialisieren.

* Insbesondere ist Spec O_{X,x} --> X im Allgemeinen keine abgeschlossene
  Immersion. Sei etwa X ganz und x der generische Punkt. Dann ist das Bild nur {x}.
  Das ist keine abgeschlossene Teilmenge.

* Nächste Schritte: Spec O_{X,x} an Beispielen studieren!
  Vervollständigung?


=== Faser

* O_{X,x} --> k(x) ist nur dann flach, wenn k(x) sogar freier O_{X,x}-Modul ist.
  Konkretes Gegenbeispiel: Multiplikation mit 2 ist als Abbildung Z_(2) -->
  Z_(2) injektiv, nach Übergang zur Faser (also Z_(2) / (2) = F_2) aber nicht
  mehr (ist dann die Nullabbildung).

* Daher scheint Exaktheit an Halmen nur bedingt etwas mit der geometrischeren
  Exaktheit an Fasern zu tun zu haben. ABER:

* Bekanntermaßen bleibt eine kurze exakte Sequenz nach Tensorieren exakt,
  wenn der rechte Modul selbst flach war (gilt das konstruktiv?). Also ist
  "Faser nehmen" einer kurzen exakten Sequenz von O_X-Moduln durchaus exakt,
  sofern nur der rechte Modul flach über O_X (zum Beispiel frei) ist!


=== Projektive Morphismen

* Morphismen zwischen projektiven Varietäten sind stets projektiv.
  http://mathoverflow.net/questions/41390/morphism-between-projective-varieties


=== Sonderrolle von C

* In erster Näherung kann man sich die Kurve zum algebraischen Abschluss
  von k(T) als ein nicht-noethersches Schema aller verzweigten Überlagerungen
  von P^1 vorstellen.

* Kann aus einer Varietät über C einen analytischen Raum machen.
  (Dabei geht A^n auf C^n.) Da der Funktor X |--> X^an wohl irgendwelche
  Treuheitseigenschaften hat, kann man damit "in der analytischen Topologie"
  arbeiten.

* Über anderen Körpern arbeitet man halt mit der étalen Topologie.


=== A^1 ist über F_p nicht zusammenhängend

Denn man hat die étale Überlagerung X^p - X. Ihre Ableitung ist -1 und
verschwindet daher nirgendwo.


=== Zusammenhängende Schemata

* Ein Schema S ist genau dann zusammenhängend, wenn Hom(S, __) binäre (oder
  beliebige) Koprodukte erhält. http://gausyu.github.io/2016/02/13/Connectedness-of-Schemes/


=== glatt, normal, regulär

Sei k algebraisch abgeschlossen (oder auch nur perfekt), X Varietät über k.

Dann gilt:
1.) X glatt <==> X regulär
2.) X regulär ==> X normal
3.) X regulär <== X normal, falls dim X <= 1.

* Glattheit von Morphismen bedeutet in der algebraischen Geometrie
  etwas fundamental anderes wie in der Differentialtopologie. Dort muss man
  explizit "glatt" dazu sagen, um unstetige Abbildungen auszuschließen. Hier
  dagegen sind alle Abbildungen in diesem Sinn glatt (denn man hat ja f^#...).
  "glatt" bedeutet eher: Alle Fasern sind glatt, und das ganze schön
  gleichmäßig.


=== Eliminationstheorie

Vakil 7.4.6: Die Aussage, dass pi : P^n_A --> Spec A abgeschlossen ist, ist das
fundamentale Theorem der Eliminationstheorie. Es besagt nämlich, dass der Ort,
wo ein Gleichungssystem über A eine nichttriviale Lösung (also eine Lösung im
projektiven Raum) besitzt, selbst wiederum durch Gleichungen gegeben werden kann.


=== Gründe, wieso die Zariski-Topologie gelegentlich ungenügend ist

http://www.jmilne.org/math/CourseNotes/LEC.pdf

Seite 10

sehr gut lesbar!


=== Eigentlichkeit, Quasikompaktheit usw.

* Universell abgeschlossene Morphismen sind quasikompakt.
  http://mathoverflow.net/questions/23337/is-a-universally-closed-morphism-of-schemes-quasi-compact

* Habe ein Hochhebungskriterium für viele Eigenschaften.
  "für Glattheit (und Unverzweigtheit und Étaleheit :) ) gibt! Mit
  infinitesimalen Verdickungen affiner Schemata als Testobjekte...  Wird kurz
  bei Vakil erwähnt, Abschnitt 25.2.5. Tatsächlich klappt das nicht ganz, die
  entsprechende Eigenschaft heißt dann "formally smooth/unramified/étale", was
  im Falle lokal endlicher Präsentation aber stets das selbe ist wie die
  üblichen Begriffe glat/unverzweigt/étale..."

* Interessante Aussagen in Form von Übungsaufgaben zu étalen Abbildungen
  stehen in http://www-personal.umich.edu/~bhattb/teaching/mat731fall2011/ex2.pdf.

* Sh(Sch/{X,ét}) = Sh(Sch/{X,sm}). Kann man daraus Konsequenzen ziehen?
  Also die interne Sprache auf zwei Weisen präsentieren.
  http://www-personal.umich.edu/~bhattb/teaching/mat731fall2011/ex3.pdf


=== Zeta-Funktion und Weil-Vermutungen

http://www-personal.umich.edu/~bhattb/teaching/mat731fall2011/ex1.pdf


=== Punktefunktoransatz

* X' <= X heißt genau dann offen, wenn für alle Ringe A und alle eta aus X(A)
  gilt, dass eta^{-1}(X') <= Hom(A,__) Vereinigung von Unterfunktoren der Form
  Hom(A_a, __) ist. Das heißt *fast*, dass für alle Ringe R gelten soll:

      Ein Ringhomo f : A --> R bildet genau dann eines der Elemente a (einer
      Familie) auf ein invertierbares Element ab, wenn X(f)eta in X'(R) liegt.

  Aber Achtung. Mit Vereinigung ist Vereinigung in der Kategorie der
  *Garben* auf Ring gemeint. Damit ist die angegebene Charakterisierung nicht
  richtig. Der Funktor R |-> { f : A -> R | ein f(a) ist invertierbar } ist
  auch gar keine Zariski-Garbe.

  Die richtige Charakterisierung ist folgende:

      Ein Ringhomo f : A --> R hat genau dann die Eigenschaft, dass das von den
      f(a) erzeugte Ideal das Einsideal in R ist, wenn X(f)eta in X'(R) liegt.

  Im Spezialfall, dass R lokal ist, ist diese Bedingung zu obiger äquivalent.

  Noch mal zum Mitschreiben: In Sh(CRing) ist die Vereinigung der

      R |--> { f : A --> R | f(a) ist invertierbar }

  über alle a aus irgendeiner Menge M gegeben durch

      R |--> { f : A --> R | (f[M]) = (1) in R }.

* Man kann Offenheit noch etwas anders charakterisieren. Nämlich so:
  Ein Unterfunktor X' <= X ist genau dann offen, wenn für alle Ringe A
  und alle Elemente eta in X(A) eine offene Teilmenge U <= Spec(A) existiert,
  sodass gilt:

      Für alle Ringe R und Ringhomos phi : A --> R: Spec(phi) faktorisiert
      genau dann über U, wenn X(phi)(eta) in X'(R) liegt.

  Das Stacks Project (Tag 01JI) nennt diese Eigenschaft auch "Darstellbarkeit
  durch offene Immersionen".

  "==>": Sei X' <= X offen. Sei A ein Ring und sei ein Element eta in X(A)
  gegeben. Dann gibt es ja eine Menge M sodass eta^{-1}(X') der Funktor

      R |--> { f : A --> R | (f[M]) = (1) in R }

  ist. Die gesuchte offene Teilmenge ist dann U := bigcup_{a in M} D(a).
  Denn ist f : A --> R irgendein Ringhomo, so faktorisiert Spec(f) genau dann
  über U, wenn (f[M]) = (1) in R.

  "<==": Erfülle X' <= X die genannte Bedingung. Sei A ein Ring und sei eta in X(A).
  Nach Voraussetzung gibt es eine tolle offene Teilmenge U = bigcup_{a in M} D(a).
  Dann ist eta^{-1}(X') die Vereinigung der Hom(A[a^{-1}], __) über a aus M.

  Übrigens: Die offenen Mengen U aus der Charakterisierung sind eindeutig
  bestimmt. Denn:

      Sei p in U. Dann faktorisiert Spec(phi), wobei phi : A --> k(p),
      natürlich über U, denn sein Bild ist genau { p }. Somit liegt
      X(phi)(eta) in X'(R). Und rückwärts folgt damit, dass phi über
      U' faktorisiert, also p in U' liegt.

* Sind X_i <= X offene Unterfunktoren, so sind die Bedingungen

      a) X(A) = bigcup_i X_i(A) für alle lokalen Ringe A

  und

      b) X(A) = bigcup_i X_i(A) für alle Körper A

  gleichwertig. Beide drücken intuitiv aus, dass die X_i den Funktor X überdecken.
  Die eine Richtung ist klar. Die andere macht Spaß:

  Sei A ein lokaler Ring. Sei eta in X(A). Wir wollen zeigen, dass eta
  schon in einem der X_i(A) liegt. Betrachte die kanonische Projektion
  pi : A --> A/m. Da A/m ein Körper ist, liegt dann X(pi)(eta) in einem
  X_i(A/m). Da nun X_i <= X ein offener Unterfunktor ist, gibt es eine
  Familie a_j von Elementen aus A, sodass

      für alle lokalen Ringe R gilt:
          Ein Ringhomo g : A --> R bildet genau dann irgendeines der
          Elemente a_j auf ein invertierbares Element ab, wenn X(g)(eta)
          in X_i(R) liegt.

  Speziell für R := A/m und g = pi erhalten wir, da X(g)(eta) in X_i(R)
  liegt, dass für ein j g(a_j) = pi(a_j) in A/m invertierbar ist. Damit
  ist a_j selbst schon in A invertierbar.

  Speziell für R := A und g = id erhalten wir, da die Identität id_A
  das Element a_j gezwungenermaßen auf ein invertierbares Element
  abbildet, dass X(id)(eta) = eta in X_i(R) liegt.

  Die Äquivalenz gilt auch konstruktiv, wenn man m als Menge der Nichteinheiten
  definiert. Und Körper in folgendem Sinne: lokaler Ring und inv. ==> ungleich Null.

  Ferner sind die Bedingungen gleichwertig zu:

      c) Für jeden Ring A und jedes Element eta in X(A) gibt es eine offene
      Überdeckung Spec(A) = bigcup_j D(f_j) sodass für jedes j die
      Einschränkung von eta in einem X_i(A[f_j^{-1}]) liegt.

  Auch ohne die Voraussetzung, dass die X_i offene Unterfunktoren von X sind,
  ist Bedingung c) gleichwertig zu:

      d) bigcup_i X_i = X als Garben, d.h. in der internen Sprache des großen
      Zariski-Topos gilt: forall x:X. bigvee_i exists y:X_i. iota_i(y) = x.

  Das ist nämlich die wörtliche Übersetzung von c) mit der
  Kripke--Joyal-Semantik.

* Siehe auch Strømmes /Elementary Introduction to Representable Functors and
  Hilbert Schemes/. Strømme arbeitet mit Funktoren auf Sch^op statt Ring.
  Dadurch formuliert er eine leicht andere Bedingung für offene
  Unterfunktoren. http://matwbn.icm.edu.pl/ksiazki/bcp/bcp36/bcp36111.pdf

* Gegeben ein Punktefunktor. Wie definiert man dann seinen kleinen
  Zariskitopos? Wie definiert man Unterschemata über Idealgarben?
  Das hat sich auch Marc gefragt:
  http://mathoverflow.net/questions/20622/construction-of-the-petit-zariski-topos-out-of-the-gros-topos-of-a-scheme
  Update: Die erste Frage ist geklärt, siehe interne-methoden.txt.

* "Etale means, by definition, formally etale and locally of finite
  presentation, both of which conditions have simple formulations in terms of
  functors of points, from Rings to Sets. Likewise, a map of schemes is a
  monomorphism if and only if the map of underlying functors is a
  monomorphism." http://mathoverflow.net/a/14585/31233

* Ein Morphismus in Aff ist genau dann ein Mono, wenn er in Sch ein Mono ist.
  Die Rückrichtung ist klar. Die Hinrichtung passt, weil Aff eine reflektive
  Unterkategorie von Sch ist.

* Ist Aff/X filtriert?

* http://math.jhu.edu/~banerjee/duality.pdf enthält einen schönen
  Überblick.


=== Quasikohärenz

* Genau dann ist ein Untermodulgarbe U quasikohärent, wenn sie lokal von Schnitten
  erzeugt wird. Die Richtung "==>" ist klar (lokal sogar durch Schnitte
  präsentiert). Die Richtung "<==" folgt, da der Kern einer lokalen Surjektion
  O_X^(oplus M) --> U derselbe ist wie der der verlängerten Abbildung
  O_X^(oplus M) --> E, somit selbst quasikohärent ist und daher von Schnitten
  erzeugt wird.


=== Quasikohärente Moduln im Punktefunktoransatz

* Folgende Setzung definiert eine A^1-Modulgarbe in Zar(Spec Z),
  welche die Bedingung

      "E(A) tensor_A B  --->  E(B)  ist ein Iso"

  zwar für Lokalisierungen A --> A[f^(-1)] erfüllt, nicht aber für beliebige
  Ringhomos A --> B.

  E(R) := prod_{p in Spec R} k(p)

* Man könnte denken: Modulgarben F über Ring^op (der großen Kategorie aller
  Ringe) bewahrten filtrierte Kolimiten. Dass also insbesondere gilt:

      F(R) = colim_{R' --> R, R' e.p.} F(R').
      (Dass also F die Links-Kan-Erweiterung seiner Einschränkung auf endlich
      präsentierte Ringe ist.)

  Das ist aber falsch. Ein Gegenbeispiel ist die Modulgarbe E vom vorherigen
  Punkt (colim_n E(Z[1/n]) --> E(Q) ist nicht injektiv).

* Der Halm eines Objekts E aus PZar(A) an einem Punkt R (also einem Ring R,
  nicht notwendigerweise endlich präsentiert) ist wohl

      E_R = colim_{R' --> R, R' e.p.} E(R').

  Im Fall, dass R endlich präsentiert ist, vereinfacht sich das zu E(R).
  Punkte, die zu endlich präsentierten Ringen gehören, sind also besonders, da
  der zugehörige Pullbackfunktor nicht nur endliche, sondern beliebige Limiten
  bewahrt. Vielleicht sind sie sogar essenzielle geometrische Morphismen.

  Man kann die Behauptung, dass der Halm im endlich präsentierten Fall durch
  Auswertung gegeben ist, wie folgt zeigen. Für A^1 weiß man, dass Auswertung
  und Halm nehmen übereinstimmen. Jedes Objekt in PZar(A) setzt sich mit
  "geometrischen Operationen" (kleinen Kolimiten und endlichen Limiten) aus A^1
  zusammen. Denn jede Prägarbe ist kanonischer Kolimes von darstellbaren
  Prägarben und diese wiederum sind gewisse gleichungsdefinierte Unterobjekte
  von A^n. Hier geht zwei Mal ein, dass wir als Situs wirklich nur A-Alg^fp
  verwenden. Sonst wäre das kanonische Diagramm groß [so ist es wesentlich
  klein] und sonst würde der letzte Schritt fehlschlagen.

* Sei E eine Zariskigarbe in Zar(Z). Sei A endlich präsentiert (oder sei
  Zar(Z) ohne Größeneinschränkung definiert). Dann gilt:

      E(A) = { (s_p)_p |
          alle s_p in E_{A_p},
          es ex. Zerlegung der Eins 1 = sum_i f_i von A, sodass für alle i gilt:
              es ex. s in E(A[f_i^(-1)]) mit
                  s = s_p in E_{A_p} für alle p mit f_i nicht in p }.

  Zum Nachweis kann man verwenden, dass zwei Schnitte s und t von E(A) genau
  dann gleich sind, wenn s = t in E_{A_p} für alle Primideale p. (Um das zu
  zeigen, verwendet man zum einen, dass Zar(Z) genügend viele Punkte hat und
  zum anderen ein lustiges Argument: Jeder Ringhomo A --> R in einen lokalen
  Ring R faktorisiert über einen Halm von A.)

  Mit dieser expliziten Formel kann man nachweisen, aus abstrakten Gründen
  sowieso klar ist: Ist ein Morphismus von Garben in Zar(Z) ausgewertet an
  allen lokalen Ringen bijektiv, so ist er (halmweise ein Iso und daher) ein
  Iso.

* Eine Modulprägarbe E in PZar(S) = PSh(Sch/S) (oder lveP/S oder so) ist
  genau dann quasikohärent, wenn in PZar(S) gilt:

      Für alle endlich präsentierten A^1-Algebren A ist der kanonische
      Morphismus

          E tensor A ---> [ [A,A^1]_{A^1}, E ]

      ein Isomorphismus.

  Die Auswertung von E tensor A bei R ist E(R) tensor_R R[...]/(...).
  Die der rechten Seite ist E(R[...]/(...)). (Wenn wir mal global definierte
  A^1-Algebren betrachten.)

  Die Richtung "==>" ist klar.

  Die Richtung "<==" zeigt die Quasikohärenzbedingung aber nur für Ringwechsel
  R --> S, für die R endlich präsentiert ist und R --> S endlich präsentiert
  ist! Genügt das?! Jo, chill. Statt Sch/S nimmt man ja sowieso nur { Spec(R)
  --> S lveP }. Dann ist noch Tag 00F4 wichtig:

  Sei A --> R --> S. Sind R und S jeweils über A endlich präsentiert, so ist S
  auch über R endlich präsentiert. [Dazu muss R glaub ich nur endlich erzeugt
  über A sein.] Umgekehrt ist S über A endlich präsentiert, wenn S über R und R
  über A endlich präsentiert sind.

* Sei E eine A^1-Modulgarbe. Dann ist E[X], berechnet in PZar, auch wieder
  eine Garbe. Leider ist es E/fE vermutlich im Allgemeinen nicht. Sonst könnte
  man die interne Quasikohärenzbedingung oben auch in Zar statt PZar
  formulieren.

* Was ist eine Charakterisierung in Zar(S)? Und was bedeutet es, wenn
  der analoge Morphismus in Zar(S) ein Iso ist?

* Sei F ^--> E eine Inklusion eines Untermoduls. Seien F und E quasikohärent.
  Dann bleibt, für jeden Ring A, die Inklusion F(A) --> E(A) unter Tensorieren
  mit beliebigen A-Algebren injektiv. Denn:

      F(A) tensor B ---> F(B)
            |       Iso   |
            |             | injektiv
            |             |
            v       Iso   v
      E(A) tensor B ---> E(B)

* A^1 ist aus interner Sicht übrigens nicht (im Allgemeinen) kuratowskiendlich.
  Kann (bei hinreichend großem Grundkörper) unendlich viele paarweise
  verschiedene globale Elemente hinschreiben.


=== Limiten und Kolimiten von Schemata und verwandten Dingen

* Kolimiten in Aff sind bekanntermaßen schlecht. Deswegen wurden ja
  Schemata erfunden. Die Einbettung Aff --> Sch bewahrt also *nicht* beliebige
  Kolimiten (Koprodukte aber wohl schon).

* Spec : CRing^op --> LRS bewahrt als Rechtsadjungierter zu
  Gamma : LRS --> CRing^op Limiten, d.h. schickt Kolimiten von Ringen auf
  Limiten von lokal geringten Räumen. Diese sind insbesondere Limiten von
  Schemata.

  Anders gesagt: Die Inklusionen Aff --> LRS und Aff --> Sch bewahren Limiten.

* Spec erhält nicht unendliche Koprodukte: Spec(prod_{i in I} F_2) ist der
  Raum der Ultrafilter auf I, während coprod_i Spec(F_2) nur der Raum der
  principal Ultrafilter ist.

* http://www.math.utah.edu/~schwede/Papers/SchemeWithoutPoints.pdf

* Punkte von X x_S Y (Faserprodukt in Schemata oder LRS) sind Tupel
  (x,y,p), wobei x in X, y in Y mit f(x) = g(y) =: s und p ein Primideal
  in O_{X,x} tensor_{O_{S,s}} O_{Y,y} ist. Der Halm der Strukturgarbe von X x_S Y
  an einem solchen Punkt ist die Lokalisierung von O_{X,x} tensor_{O_{S,s}} O_{Y,y} an p.
  http://mathoverflow.net/questions/70503/stalks-of-structure-sheaf-of-fibre-product

  Mit der Beschreibung der Punkte über Morphismen von Spec(K), wobei K über
  alle Körper läuft, kann man auf die Punkte des Faserprodukts kommen. Schaut
  man sich Morphismen aus allen Spec(A), A lokal, an, erhält man die Halme der
  Strukturgarbe.

* Produkte in RS sind für Schemata dieselben wie die in RL.

  Das folgt mit II 2.13 aus Johnstones Stone spaces. Das sagt:
  Seien X und Y nüchterne topologische Räume. Sei X sogar lokal kompakt.
  Dann ist O(X x Y) = O(X) x O(Y).

* Verschiedenes: http://math.stackexchange.com/a/294754/61604

* Beispiel für einen Koequalizer von Schemata, der nicht surjektiv ist:
  http://mathoverflow.net/questions/63/can-a-coequalizer-of-schemes-fail-to-be-surjective/60477#60477

* In LRS und RS existieren alle kleinen Kolimiten. Und zwar einfach durch die
  naive Konstruktion. Koequalizer bildet man dadurch, indem man topologisch den
  Koequalizer und ringtheoretisch den Equalizer bildet.
  https://webusers.imj-prg.fr/~alberto.vezzani/Files/Research/tesi_vezzani.pdf

* Limiten in RS bildet man einfach naiv. Limiten in LRS bildet man durch
  "Neulokalisierung" des naiven Limes aus RS. http://arxiv.org/abs/1103.2139
  Das kann man super intern verstehen :-).

  Der Vergissfunktor LRS --> RS hat einen Linksadjungierten, nämlich Monique
  Hakims bzw. Chevalleys Spec.

* Sch hat alle endlichen Limiten und die Inklusion Sch --> LRS bewahrt sie.

* Der Funktor RelSpec_X : Alg(O_X)^op --> LRS/X bewahrt endliche Limiten.

* Ein Morphismus in Sch ist genau dann eine offene Immersion, wenn er
  ein Mono ist, flach ist und lokal von endlicher Präsentation ist.
  https://webusers.imj-prg.fr/~alberto.vezzani/Files/Research/tesi_vezzani.pdf, Seite 5.

  Zhen Lin sagt: In CRing^op sind die offenen Immersionen genau die
  Monomorphismen, die als Pseudokomplemente von regulären Monos auftreten.
  https://www.dpmms.cam.ac.uk/~zll22/slides/2015-06-16-ChartedSpaces.pdf

* Jedes Schema ist Verklebung (Kolimes) der affinen Schemata, die es
  überdecken:

            U_i
           ^   \
          /     v
      U_ijk      X    (U_i cap U_j = bigcup_k U_ijk affine Überdeckung)
          \     ^
           v   /
            U_j

  https://webusers.imj-prg.fr/~alberto.vezzani/Files/Research/tesi_vezzani.pdf, Seite 10.

* Übersicht über viele Topologien auf Sch/S:
  http://win.ua.ac.be/~pbelmans/topologies-comparison/index.html


=== Noethersche Approximation

* http://math.stackexchange.com/a/294754/61604
  More generally, for an arbitrary base scheme SS, the functor
  Spec : qcAlg(S)^op -- Sch/S, which sends a quasi-coherent algebra on SS to
  its relative spectrum, is left adjoint to the functor which sends p : T --> S
  to p_*(O_T) and induces an anti-equivalence of categories between
  quasi-coherent algebras on SS and the category of affine SS-schemes. Hence,
  limits of affine SS-schemes exist in the category of all SS-schemes, are
  affine, and correspond to the colimit of the corresponding quasi-coherent
  algebras. This is quite useful and used often in conjunction with the
  Noetherian Approximation Theorem: If SS is noetherian, every quasi-compact
  quasi-separated SS-scheme is a directed limit of noetherian SS-schemes with
  affine transition morphisms. These directed limits are preserved by the
  forgetful functor to topological spaces. Details can be found in EGA.


=== Konkretisierbarkeit der Kategorie der Schemata

Einfach:

    Sch ---> Set x Set^op ---> Set x Set ---> Set,

vermöge (Punkte des zugrundeliegenden topologischen Raums, Koprodukt der Halme
der Strukturgarbe), (Id, Potenzmenge), Koprodukt.

http://mathoverflow.net/a/160768/31233


=== 27 Geraden auf jeder glatten kubischen Fläche

https://www.quora.com/Algebraic-Geometry/Why-are-there-exactly-27-straight-lines-on-a-smooth-cubic-surface/answer/Jack-Huizenga

Enthält auch eine schöne geometrische Erklärung zu Schubert-Zellen und zu
Chern-Klassen.


=== Normalisierung

* https://qchu.wordpress.com/2012/11/02/zsqrt-3-is-the-eisenstein-integers-glued-together-at-two-points/
  Spec Z[sqrt(-3)] als Kodifferenzkern zweier Morphismen Spec F_4 --> Spec Z[omega]
  in der Kategorie der affinen Schemata

* Ein Schema, das "zu nicht-separiert" ist, um zu existieren: die Verklebung
  von A^1 und A^1 an den generischen Punkten.
  http://mathoverflow.net/questions/9961/colimits-of-schemes


=== Affinität

* Ein Schemamorphismus f : X --> Y ist affin, wenn f_* : QCoh(X) --> QCoh(Y)
  einen Rechtsadjungierten f^! besitzt.

  Ist f quasikompakt und X separiert, so ist f genau dann affin, wenn f
  kohomologisch affin ist, d.h. wenn f_* exakt ist. Da die relevanten
  Kategorien ja wohl lokal präsentierbar sind, ist das äquivalent zur Existenz
  eines Rechtsadjungierten.

  http://mathoverflow.net/questions/15291/affine-morphisms-in-different-settings-coincide/58486

* Sei f : X --> Y ein Morphismus von Schemata, wobei X affin und Y separiert
  ist. Dann ist f schon ein affiner Morphismus.

  Denn sei V <= Y offen affin. Dann ist, da Y separiert ist, der kanonische
  Morphismus

      f^{-1}(V) = X x_Y V  --->  X x V

  eine abgeschlossene Immersion (schreibe ihn als

      X x_Y V = X x_Y Y x_Y V --> X x_Y (Y x Y) x_Y V = X x V

  und nutze aus, dass Y --> Y x Y auch nach Rückzug noch eine abgeschlossene
  Immersion ist). Somit ist f^{-1}(V) als abgeschlossenes Unterschema eines
  affinen Schemas selbst affin.

* Natürlich sind Morphismen zwischen affinen Schemata affin.


=== Spezielle Hyperebenen

* Konstruktion von Hyperebenen, die gewisse endlich viele abgeschlossene
  Mengen nicht umfassen: Brian Osserman, Associated points and applications.
  http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.295.4668&rep=rep1&type=pdf


=== Referenzen

* Hartshorne
* Liu
* Vakil
* A Royal Road to Algebraic Geometry
* Eisenbud, Geometry of Schemes
* Rational points on varieties. Bjoern Poonen.
  http://math.mit.edu/~poonen/papers/Qpoints.pdf
* http://www.mathematik.uni-kl.de/~gathmann/class/alggeom-2002/chapter-7.pdf
* http://www.math.purdue.edu/~dvb/preprints/book-chap17.pdf
  http://www.springer.com/mathematics/algebra/book/978-1-4614-1808-5
* http://math.mit.edu/~mckernan/Teaching/09-10/Spring/18.726/l_10.pdf
  und andere Kapitel
* http://www.dam.brown.edu/people/mumford/alg_geom/papers/AGII.pdf
* http://math.stackexchange.com/questions/666113/examples-of-morphisms-of-schemes-to-keep-in-mind

* Auf MO empfohlen: http://www.math.univ-toulouse.fr/~btoen/m2.html
  Lesen!

* https://www.math.ucdavis.edu/~osserman/classes/256A/notes/sep-prop.pdf
  Wie man präzise Verbindungen zwischen Eigenschaften in algebraischer und
  komplexer Geometrie schafft.


=== Nächste Schritte

* Nachvollziehen, unter welchen Voraussetzungen Schnitte von K_X einfach auf
  kleinen offenen Mengen definierte Schnitte von O_X sind. Dasselbe auch für
  L[S^(-1)].

* Was sind die lokalen Modelle glatter Schemata?

* Wann sind Bilder abgeschlossener Punkte abgeschlossen?

* Wie sehen Faserprodukte in LRS aus?

* Wann sind Projektive flach?

* Wie sieht GL(V) als Schema aus? Vermutung für den Punktefunktor:
  R |--> Aut(V_R)  (Automorphismen der Skalarerweiterung)

* Lesen: http://sbseminar.wordpress.com/2010/01/12/residues-and-integrals/?relatedposts_exclude=2821

* Von Timo empfohlene Referenz für die funktorielle Sichtweise:
  Neil P. Strickland. Formal schemes and formal groups.
  http://arxiv.org/abs/math.AT/0011121

* Sind Schemata nüchtern? Kann man Nüchternheit lokal testen?

* Kann man ein Schema X aus Mod(O_X) rekonstruieren? Nein, oder?
  Was ist ein Gegenbeispiel?
  Wie es aus QCoh(X) geht -- also Gabriel--Rosenberg-Rekonstruktion --
  steht hier:
  http://sasharosenberg.com/wp-content/uploads/2015/03/chptr-5-Reconstruction-of-schemes_with-title.pdf

* Angeblich ist für quasikompakte offene Immersionen topologische Dichtheit
  gleichbedeutend mit schematheoretischer. Kann man das intern verstehen?
  Kommentar von Zhen Lin bei http://math.stackexchange.com/a/667148/61604.

* "Flache Morphismen von endlicher Präsentation sind offen."
  (in einem gewissen Sinn Verallgemeinerung des Open Mapping Theorems.)
  Intern zeigen?
