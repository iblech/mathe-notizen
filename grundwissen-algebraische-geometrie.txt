=== Vektorräume als affine Schemata

Die kovariante Zuordnung

    V |--> Spec Sym V^

bildet jeden (endlich-dimensionalen) k-Vektorraum auf ein Schema ab, dessen
k-rationale Punkte in kanonischer Bijektion zu den Elementen von V stehen:

    Hom(k, Spec Sym V^) = Hom(Sym V^, k) = Hom_lin(V^, k) = V^^ = V.


=== Verschwindungsmengen in affinen Schemata

* Sei f \in A. Dann gilt:
    { x \in Spec A | f = 0 \in k(x) } = V((f)) = { p | f \in p }.

* clos M = V(\bigcap M)  (nochmal prüfen!)

* Falls V(I(W)) = W und V eine beliebige Teilmenge des affinen Raums ist,
  so gilt I(V) : I(W) = I(V \ W) (Idealquotient).

* int(Spec A \ {p}) = Spec A \ V(p).


=== Standardoffene Teilmengen

* D(f) \cap D(g) = D(fg)
* D(f) \subseteq \bigcup_i D(g_i)  <==>  f \in \sqrt{(g_i)_i}
  (für "==>": Zorn!)
* insbesondere: Spec A = \bigcup_i D(g_i)  <==>  (g_i)_i = (1).

* D(f) ist genau dann leer, wenn f nilpotent ist.

* D(f) ist dicht genau dann, wenn für alle g:

      fg nilpotent ==> g nilpotent.

* \bigcup_i D(f_i) ist genau dann dicht, wenn für alle g:

      f_i g nilpotent für alle i ==> g nilpotent.

* Spec A ist lokaler topologischer Raum <==> A ist ein lokaler Ring.


=== Morphismen in affine Schemata

Sei f : X --> Spec A gehörig zu phi : A --> O_X(X). Dann gilt für alle x aus X:

    f(x) = phi_x^(-1)[m_x] = { f in A | phi(f)_x nicht invertierbar in O_{X,x} },

wobei phi_x : A --> O_X(X) --> O_{X,x}. Umgekehrt ist phi die Komposition

    A --> Gamma(Spec A, O_(Spec A)) --> Gamma(X, O_X),

induziert durch f^# : f^(-1) O_(Spec A) --> O_X, bzw. genauer durch seinen
Transponierten O_(Spec A) --> f_* O_X.


=== Spektren von Algebren, die endlich als Modul sind

* Sei k ein Körper. Sei A eine k-Algebra, die endlich als Modul ist.
  Dann gibt es Erzeuger x_1,...,x_n, welche wegen Cayley--Hamilton (betrachte
  die k-lineare Abbildung x |-> x_i x) ganz über k sind: f_i(x_i) = 0.

  Da es in k nur endlich viele Nullstellen dieser Polynome f_i gibt, gibt es
  nur endlich viele k-Algebrenhomos A --> k, d.h. k-rationale Punkte von Spec A
  über k.

* Sei X --> Y ein endlicher Schemamorphismus über k.
  Dann besitzen die Fasern nur endlich viele k-rationale Punkte.
  Außerdem besitzen die Fasern überhaupt nur endlich viele Punkte, aber wie
  zeigt man das? Siehe:
  http://math.stackexchange.com/questions/112345/the-fibers-of-a-finite-morphism-of-affine-varieties-are-all-finite


=== Rationale Punkte

* Jeder Morphismus Spec K --> X faktorisiert über Spec k(x) --> X,
  wobei x der eindeutige Punkt im mengentheoretischen Bild bezeichnet.
  Insbesondere ist K also eine Körpererweiterung von k(x).

* Spec k(x) --> X ist genau dann eine abgeschlossene Immersion,
  wenn x ein abgeschlossener Punkt von X ist.

* Sei f : X --> Y eine offene oder abgeschlossene Immersion. Sei x in X.
  Dann ist k(f(x)) --> k(x) ein Iso.

* Sei X ein Schema über k und x ein Punkt von X.
  Ist k --> k(x) ein Iso, so ist x abgeschlossen.

  Sei X ein Schema lokal von endlichem Typ über k, k algebraisch abgeschlossen,
  und x ein Punkt von X.
  Ist x abgeschlossen, so ist k --> k(x) ein Iso.
  (Denn k(x) ist dann ein Quotient von O_X(U) (für eine geeignete affinoffene
  Teilmenge U) modulo einem maximalen Ideal und daher eine endliche Erweiterung
  von k.)

  [Gegenbeispiel, falls k nicht algebraisch abgeschlossen: (X^2 + 1) in A^1_R.]

* Sei X ein Schema über k und x ein Punkt von X.
  Ist k(x) | k endlich, so ist x abgeschlossen.
  Ist x abgeschlossen und X lokal von endlichem Typ über k, so ist k(x) | k endlich.

* Der Funktor Sch/k --> Set, X |--> Hom_k(Spec k, X) ist natürlich nicht treu.
  Etwa sind die Morphismen

      Spec k[eps]/(eps)^2 --> Spec k[x]

  mit x |-> eps bzw. x |-> 2*eps verschieden (falls char k != 2), aber auf
  rationalen Punkten gleich.

  Der Funktor ist aber durchaus treu auf der vollen Unterkategorie der
  reduzierten k-Schemata (wenn k algebraisch abgeschlossen; laut Mumford,
  Lectures on algebraic curves, Seite 16).

* Sei f : X --> Y ein Morphismus von k-Schemata, mit X l.v.e.T./k.

  Sei x in X ein abgeschlossener Punkt.
  Wegen der lveT-Voraussetzung ist dann k(x) | k endlich.

  Dann haben wir den Turm k(x) | k(f(x)) | k.
  Daher ist k(f(x)) | k ebenfalls endlich, und somit ist f(x) wieder
  abgeschlossen.

  # Wenn k algebraisch abgeschlossen ist, sind k(x) und k(f(x)) beide gleich k.
    Dann sind also die Mengen der k-rationalen Punkte und der abgeschlossenen
    Punkte identisch, und f induziert eine Abbildung zwischen ihnen.


=== Verschwinden von Schnitten

* Sei A ein lokaler Ring mit maximalem Ideal m.
  Dann erhält und reflektiert (!) der kanonische Ringhomo

      A --> A/m

  Invertierbarkeit.

* Man sagt, ein Schnitt eines Moduls F verschwinde an einem Punkt, wenn
  er in F_x \otimes_{O_x} k(x) null ist.

* Abbildungen X --> P^n entsprechen Geradenbündeln L auf X zusammen
  mit n+1 globalen Schnitten dieses Bündels, welche keine gemeinsame Nullstelle
  besitzen. Siehe Thm. 16.3.7 (Omnibustheorem zu Pullback) und 16.4.1 in Vakil.

* Sei f globaler Schnitt eines Geradenbündels L. Dann habe O_X --> L.
  Dieser Morphismus ist genau dann ein Iso, wenn er lokal ein Iso ist;
  teste auf Überdeckung, auf der L trivial ist. Die Einschränkung
  O_X|_U --> L|_U ist durch Multiplikation mit f|_U gegeben. Sie besitzt genau
  dann ein Inverses, wenn f (aufgefasst als Funktion auf U) ein Inverses
  besitzt. Das ist genau dann der Fall, wenn f nicht null ist in den Fasern.
  Also: O_X --> L ist genau dann ein Iso, wenn f nirgendwo verschwindet.

* Sei L ein Geradenbündel. Lineare Abbildungen phi : O^n --> L entsprechen
  bekanntlich der Angabe von n globalen Schnitten auf L. Diese haben genau dann
  keine gemeinsame Nullstelle, wenn phi surjektiv ist.

* Nächster Schritt: Was ist ein regulärer Schnitt?


=== Verschwindungsschema

Sei s ein globaler Schnitt von O_X. Dann habe das Unterschema iota : V(s) --> X
mit der kurzen exakten Sequenz

    0 --> (s) --> O_X --> iota* O_V --> 0.

Sei f : Y --> X ein Schemamorphismus.

Behauptung: f faktorisiert genau dann über iota, wenn f^#(s) = 0.

Beweis:
"==>" Der Ringmorphismus f^# : O_X --> f_* O_Y ist also die Komposition

         O_X --> iota_* O_V(s) --> iota_* fquer_* O_Y ~~ f_* O_Y.

      Schon der vordere Morphismus schickt s auf Null.

"<==" Zunächst topologisch. Angenommen, s wäre in O_{X,f(y)} doch invertierbar.
      Dann wäre s also auf einer kleinen offenen Umgebung U von f(y)
      invertierbar. Nach Voraussetzung gilt trotzdem, dass f^#(s) in
      O_Y(f^(-1) U) Null ist. Also gilt 1 = 0 in O_Y(f^(-1) U). Insbesondere
      ist damit O_{Y,y} der Nullring. Das kann aber nicht sein.

      Nun ist O_V(s) --> fquer_* O_Y zu definieren. Äquivalent (!) ist
      iota_* O_V(s) --> iota_* fquer_* O_Y ~~ f_* O_Y zu definieren. Wegen
      iota_* O_V(s) ~~ O_X/(s) ist nach dem Homomorphiesatz so ein Morphismus
      einfach durch f^# gegeben.

      Bemerkung: Für's topologische Faktorisieren genügt schon, dass f^#(s)
      in allen O_{Y,y} nicht invertierbar ist.


Allgemeiner gilt bestimmt folgendes: Sei L ein Geradenbündel auf X und s ein
globaler Schnitt von L. Dann kann man ebenfalls V(s) definieren. Die universelle
Eigenschaft lautet dann: Ein Morphismus f : Y --> X faktorisiert genau dann
über V(s) --> X, wenn der von s induzierte Schnitt in dem O_Y-Modul f^*(L) Null
ist. Habe das aber nicht geprüft!


=== Verschwindungsschema II

Zu einem globalen Schnitt s eines Vektorbündels E kann man ebenfalls ein
Verschwindungsschema konstruieren. Lokal/intern ist ein solcher nämlich einfach durch
mehrere Schnitte von O_X gegeben: s_1, ..., s_n. Nehme dann als Idealgarbe
einfach (s_1, ..., s_n) (nicht (s_1 * ... * s_n)).

Ist alpha : E --> F ein Morphismus von Vektorbündeln, so kann man auch sinnvoll
vom zugehörigen Verschwindungsschema sprechen. Lokal ist ein solcher einfach
durch rk(E) * rk(F) viele Schnitte von O_X gegeben, die sollen alle
verschwinden.

Ist alpha speziell von der Form E --> O_X, so wird das Bild von alpha gerade
die Idealgarbe sein.


=== Unterschemata

* Sei f : X --> Y eine abgeschlossene Immersion. Dann habe die kurze exakte
  Sequenz

      0 --> I_{X/Y} --> O_Y --> f_* O_X --> 0.

  Der Modul vorne heißt auch /Idealgarbe von f/.

  Höchstwahrscheinlich gilt f^* f_* O_X ~~ O_X (kanonisch).
  (Tensorieren mit Algebra, deren Strukturmorphismus surjektiv ist.)

  Es gilt: supp(f_* O_X) = V(I) = { y in Y | I_y != (1) in O_{Y,y} }.

* Sei etwa Y = P^1, X = Spec k und f die Inklusion des abgeschlossenen Punkts
  P = (0:1). Dann ist die Sequenz

      0 --> O(-1) --> O --> k(P) --> 0

  exakt. Die Abbildung vorne ist dabei durch Multiplikation mit x_0 gegeben.
  Also ist O(-1) die Idealgarbe von { P }.

* Nach http://www.math.rice.edu/~hassett/teaching/465spring04/CCAGlec9.pdf:
  k algebraisch abgeschlossen, p \in k[x_0,...,x_n] homogen vom Grad D > 0 und
  irreduzibel. Dann ist die Idealgarbe von

      H := { [x_0 : ... : x_n] | p(x_0,...,x_n) = 0 }

  durch O_(P^n)(-D) gegeben.

* Die erste infinitesimale Umgebung von X --> Y ist dasjenige
  Unterschemata von Y, was von I^2 ausgeschnitten wird.
  Hat was mit dem Konormalkomplex zu tun!

* Auflösung von f_*(O_X): Siehe GenHKR.pdf, Seite 8f.!

* Abgeschlossene Immersionen sind fast nie flach (siehe Liu, Kapitel 4.3.1,
  Beispiel 3.6), wenn sie nicht auch offen sind.


=== Fasern

* Bsp. 9.3.3 in Vakil ("Consider the projection of the // parabola")
  erlärt super, wie man Fasern ausrechnet.

* (f^* E)|_x = E|_f(x) tensor_k(f(x)) k(x).


=== Flachheit

* Angeblich gilt: X --> Y flach bei x genau dann, wenn
  X x_Y Spec O_{Y,y} --> Spec O_{Y,y} flach bei x' ist,
  wobei x' Urbild von x unter X x_Y Spec O_{Y,y} --> X ist.


=== Flache Familien

* As others have stated above, flatness of a family should mean that the fibres
  of the family vary somehow continuously. Let state this in terms of a module
  M over a ring R. Here a fibre of M over a prime P of R is M(P), the
  k(P)-vector space MP/PAP, where k(P) denotes the quotient field of R/P. If
  the fibres vary continuously, it should be possible to extend a basis of M(P)
  to nearby fibres, i.e. that the lift of a k(P)-basis wrt. the canonical map
  MP -> M(P) should yield a basis of MP over AP, i.e. that the stalk MP is a
  free module.

  And in fact: If M is a finitely presented R-module it is flat if and only if M
  is locally free, i.e. that stalks are free.


=== Wieso Primideale statt maximale Ideale?

* Urbildoperation erhält nur Primalität, nicht Maximalität.
* Für Basiswechsel: Etwa schickt A^1_C --> A^1_Q die nicht-algebraischen Punkte
  auf den generischen.
* Generische Punkte machen Spaß!
* Nur so ist (Spec A, O) die universelle Lokalisierung von A.
* Nur so ist A |--> (Spec A, O) der Linksadjungierte zum Vergissfunktor LRS --> Ring.
* Nur so wird die Kategorie der affinen Schemata dual zur Kategorie der Ringe.

Genauer zum Punkt universelle Lokalisierung:

  Gegeben Ring A. Gesucht lokaler Ring A' zusammen mit Morphismus iota : A --> A',
  sodass es zu jedem Morphismus A --> B in einen lokalen Ring B genau einen
  lokalen Morphismus A' --> B gibt, der vorkomponiert mit A --> A' wieder A --> B
  ergibt.

  Dieses Problem ist in Set nicht lösbar: Denn sei p ein Primideal und s \not\in p.
  Dann folgt, dass iota(s) invertierbar in A' ist, da s invertierbar in A_p
  ist. Sei nun q ein weiteres Primideal. Dann folgt, dass s auch invertierbar
  in A_q ist, d.h. nicht in q enthalten ist. Damit folgt zusammengenommen: Je
  zwei Primideale von A sind gleich.


=== Garbe meromorpher Funktionen

Siehe: Steven Kleiman, Misconceptions about K_X.
http://retro.seals.ch/digbib/fr/voltoc?rid=ensmat-001:1979:25&e=3&id=ssearch&id2=browse4&id3=#n3

Sei X ein Schema. Dann ist K_X die Garbifizierung der (nur über die
affinoffenen Teile gehenden!) Prägarbe

    U |--> Quot O_X(U).

Wenn man über alle offenen U gehen möchte, muss man K_X als Garbifizierung der
Prägarbe

    U |--> O_X(U)[S(U)^(-1)]

definieren, wobei S(U) = { f | f_x ist kein Nullteiler in allen O_x, x \in U }.

* Es gilt: Halm K_x = S_x^(-1) O_x, wobei S_x = lim_{x \in U} S(U). Das kann eine
  echte Teilmenge von Quot O_x sein. Mit Quot ist natürlich immer die
  Lokalisierung an den regulären Elementen gemeint.

* K_X ist auf integren Schemata eine flasque Garbe, da sie die konstante Garbe
  K(X) = O_{X,xi} ist. (Prüfen!)

* Auf X = Spec A, A Integritätsbereich, kann man ganz einfach zeigen, dass K_X
  die konstante Garbe zu K(X) = O_{X,xi} = Quot A ist:

  Habe die Prägarbenabbildung

      (Quot A)_{konst,pre} --> O_X[reg^(-1)]_pre,

  welche auf einer offenen nichtleeren Menge U (welche daher zusammenhängend
  ist!) x/s auf x/s schickt. Das ist okay, denn wenn s nicht null in A ist, ist
  s regulär in allen lokalen Ringen.

  Dann Quelle und Ziel vergarben. Halmweise ist das ein Iso (wieso?).

* Siehe Stacks Project: http://stacks.math.columbia.edu/tag/01RR.
  Kann ich den Beweis von http://stacks.math.columbia.edu/tag/01X5 bringen?
  Ist http://math.stackexchange.com/questions/446846/sheaf-of-meromorphic-functions-on-an-integral-scheme
  korrekt?


=== Topologische Räume von Dimension 0

Für topologische Räume von Dimension 0 gilt: Die irreduziblen Komponenten sind
durch

    cl {x}

für x \in X gegeben. Zwei solche Mengen überlappen nur trivial oder sind
gleich.


=== Motivation für Schemata

Siehe David Mumford, My Introduction to Schemes and Functors.
http://www.math.jussieu.fr/~leila/grothendieckcircle/Mumford.pdf.
Redet auch über das Picard-Schema und die Geradenbündel auf Spec k[eps].


=== Nullstellensatz

Sei k algebraisch abgeschlossen und M eine Menge von Polynomen aus
k[X_1,...,X_n]. Dann gilt:

    V(M)_naiv = leer  <==>  1 \in (M).

Damit ist mit V(M)_naiv die gemeinsame Nullstellenmenge gemeint.

Beweis durch folgende Kette äquivalenter Aussagen:
* V(M)_naiv = leer
* für alle maximalen Ideale m: M <= m ==> bot  (k alg. abg. und nochwas?)
* für alle Primideale p: M <= p ==> 1 in p  (Zorn)
* 1 \in Schnitt über alle Primideale p mit M <= p
* 1 \in sqrt(M)  (Zorn)
* 1 \in (M)


=== Grad und Geschlecht

http://math.la.asu.edu/~paupert/degreegenus.pdf
Alex Pruss, The Degree-Genus Formula...

http://www.math.utah.edu/~bertram/6030/12Classification.pdf

Super:
http://www.imsc.res.in/~kapil/geometry/ais/2_genus.html

http://mathoverflow.net/questions/92771/a-geometric-characterization-for-arithmetic-genus
geometrische Charakterisierung der hirzebruchschen arithmetischen Zahl
chi(X,O_X) (über einfache Formel verwandt mit dem arithmetischen Genus).

Beispiel: P^1 --> P^1, [x:y] |-> [x^2:y^2] induziert die Körpererweiterung
K(P^1) --> K(P^1), h(x/y) |-> h(x^2/x^2), bzw. isomorph k(T) --> k(T^2) und hat
daher Grad 2.

http://www.math.wisc.edu/~dewey/TalkNotes/AGdegree.pdf


=== Umgebungen

* Das Bild von Spec O_{X,x} --> X ist die Menge der Punkte aus X, die zu x
  spezialisieren.

* Insbesondere ist Spec O_{X,x} --> X im Allgemeinen keine abgeschlossene
  Immersion. Sei etwa X ganz und x der generische Punkt. Dann ist das Bild nur {x}.
  Das ist keine abgeschlossene Teilmenge.

* Nächste Schritte: Spec O_{X,x} an Beispielen studieren!
  Vervollständigung?


=== Faser

* O_{X,x} --> k(x) ist nur dann flach, wenn k(x) sogar freier O_{X,x}-Modul ist.
  Konkretes Gegenbeispiel: Multiplikation mit 2 ist als Abbildung Z_(2) -->
  Z_(2) injektiv, nach Übergang zur Faser (also Z_(2) / (2) = F_2) aber nicht
  mehr (ist dann die Nullabbildung).

* Daher scheint Exaktheit an Halmen nur bedingt etwas mit der geometrischeren
  Exaktheit an Fasern zu tun zu haben. ABER:

* Bekanntermaßen bleibt eine kurze exakte Sequenz nach Tensorieren exakt,
  wenn der rechte Modul selbst flach war (gilt das konstruktiv?). Also ist
  "Faser nehmen" einer kurzen exakten Sequenz von O_X-Moduln durchaus exakt,
  sofern nur der rechte Modul flach über O_X (zum Beispiel frei) ist!


=== Projektive Morphismen

* Morphismen zwischen projektiven Varietäten sind stets projektiv.
  http://mathoverflow.net/questions/41390/morphism-between-projective-varieties


=== Sonderrolle von C

* In erster Näherung kann man sich die Kurve zum algebraischen Abschluss
  von k(T) als ein nicht-noethersches Schema aller verzweigten Überlagerungen
  von P^1 vorstellen.

* Kann aus einer Varietät über C einen analytischen Raum machen.
  (Dabei geht A^n auf C^n.) Da der Funktor X |--> X^an wohl irgendwelche
  Treuheitseigenschaften hat, kann man damit "in der analytischen Topologie"
  arbeiten.

* Über anderen Körpern arbeitet man halt mit der étalen Topologie.


=== A^1 ist über F_p nicht zusammenhängend

Denn man hat die étale Überlagerung X^p - X. Ihre Ableitung ist -1 und
verschwindet daher nirgendwo.


=== glatt, normal, regulär

Sei k algebraisch abgeschlossen (oder auch nur perfekt), X Varietät über k.

Dann gilt:
1.) X glatt <==> X regulär
2.) X regulär ==> X normal
3.) X regulär <== X normel, falls dim X <= 1.

* Glattheit von Morphismen bedeutet in der algebraischen Geometrie
  etwas fundamental anderes wie in der Differentialtopologie. Dort muss man
  explizit "glatt" dazu sagen, um unstetige Abbildungen auszuschließen. Hier
  dagegen sind alle Abbildungen in diesem Sinn glatt (denn man hat ja f^#...).
  "glatt" bedeutet eher: Alle Fasern sind glatt, und das ganze schön
  gleichmäßig.


=== Eliminationstheorie

Vakil 7.4.6: Die Aussage, dass pi : P^n_A --> Spec A abgeschlossen ist, ist das
fundamentale Theorem der Eliminationstheorie. Es besagt nämlich, dass der Ort,
wo ein Gleichungssystem über A eine nichttriviale Lösung (also eine Lösung im
projektiven Raum) besitzt, selbst wiederum durch Gleichungen gegeben werden kann.


=== Nächste Schritte

* Nachvollziehen, unter welchen Voraussetzungen Schnitte von K_X einfach auf
  kleinen offenen Mengen definierte Schnitte von O_X sind. Dasselbe auch für
  L[S^(-1)].

* Angeblich: F_x \cong O_{X,x}^n, F v.e.T. um x ==> F frei v.R. n um x.

* Was sind die lokalen Modelle glatter (projektiver?) Schemata?

* Wann sind Bilder abgeschlossener Punkte abgeschlossen?

* Wie sehen Faserprodukte in LRS aus?

* Wann sind Projektive flach?

* Wie sieht GL(V) als Schema aus? Vermutung für den Punktefunktor:
  R |--> Aut(V_R)  (Automorphismen der Skalarerweiterung)

* Lesen: http://sbseminar.wordpress.com/2010/01/12/residues-and-integrals/?relatedposts_exclude=2821
