=== Nächste Schritte

* Wolkenkratzergarben k(x) auf X für x abg. Punkt verstehen.
  Was ist ihr Hom(%,%)? Sind sie kohärent? Was ergibt sie mit
  omega tensoriert? Was hat sie mit der Faser von Moduln zu tun?
  Solche sind indecomposable (im Sinne von Huy 123).

* http://www.mathematik.uni-kl.de/~gathmann/class/alggeom-2002/chapter-8.pdf
  Exercise 8.6.1: Habe 0 --> omega_X --> omega_X \otimes O_X(P) --> k_P --> 0.


=== Garbifizierung

* Sei phi : F --> aF die Garbifizierung einer Prägarbe. Dann gilt
  für alle lokalen Schnitte s in (aF)(U): Es gibt eine Überdeckung
  U = bigcup_i U_i und lokale Schnitte t_i in F(U_i) mit
  s|_Ui = phi(t_i) für alle i.

  Für die Kompatibilität der t_i untereinander gilt: Es gibt eine Überdeckung
  U_i cap U_j = bigcup V_ijk mit t_i = t_j auf V_ijk.

* Das folgt aus: M --> M^+ Box-hat Urbilder für jedes Zielmengenelement,
  und je zwei Urbilder sind Box-gleich.

* In einem Schritt (statt zweimal Grothendiecks Plus-Konstruktion):
  http://mathoverflow.net/questions/90969/sheafification-via-hypercovers
  http://cms.dm.uba.ar/academico/carreras/licenciatura/tesis/yuhjtman.pdf


=== Wolkenkratzergarben in algebraischer Geometrie

Sei X ein Schema und A ein abgeschlossenes Unterschema. Dann ist mit
"Wolkenkratzergarbe zu A" der Pushforward der Strukturgarbe von A unter der
kanonischen abgeschlossenen Immersion gemeint.

Ist speziell x ein abgeschlossener Punkt, so ist mit A das Spektrum von k(x)
gemeint. Die kanonische kurze exakte Sequenz lautet dann

    0 --> m~ --> R~ = O_X --> (R/m)~ --> 0.

Diese Wolkenkratzergarben sind im noetherschen Fall kohärent.
[ Der kanonische Morphismus O_X --> E, E := i_* k(x), ist zumindest stets
surjektiv. Der Halm des Kerns ist bei x gleich m_x, sonst gleich O_{X,x}. ]

Diejenigen Wolkenkratzergarben, die zu abgeschlossenen Punkten gehören, haben
keine echten Unterobjekte -- und werden durch diese Eigenschaft schon
charakterisiert (vgl. Huy05 S. 123; Beweis noch nicht genau nachvollzogen).

Anwendung: Auf diese Weise kann man zumindest die abgeschlossenen Punkte aus
Coh(X) rekonstruieren.

* Sei i_*(k(x)) die Wolkenkratzergarbe zu einem abgeschlossenen Punkt x.
  Sei G ein beliebiger O_X-Modul. Dann gilt

      i_*(k(x)) tensor G ~~ i_*(G|_x)  (Faser),

  denn das Tensorprodukt ist eine Garbe, die höchstens in x Träger hat.
  Nach unten stehender Kategorienäquivalenz ist sie daher isomorph zum
  Pushforward des Rückzugs. Dieser ist der Halm des Tensorprodukts bei x,
  also k(x) tensor_{O_{X,x}} G_x, also G|_x.

* Hom_{O_X}(i_*(k(x)), i_*(k(x))) ~~ Hom_R(R/m, R/m) ~~ Hom_R(R, R/m) ~~ R/m.

* Sei f : X --> Y ein Morphismus von k-Schemata, mit X lveT/k und k algebraisch
  abgeschlossen.

  Dann sind k-rationale Punkte und abgeschlossene Punkte dasselbe,
  und f_* bildet die Wolkenkratzergarben k(x) auf die entsprechenden Garben
  k(f(x)) ab. (Der Halm an x bzw. f(x) ist dabei beide Male gleich k.
  Wäre k nicht algebraisch abgeschlossen, könnte man nur einen Morphismus
  k(f(x)) --> f_* k(x) erhalten.)

  [ Eigentlich muss es hier natürlich i_* k(x) bzw. j_* k(f(x)) heißen. ]

Hier ein etwas spezielles Beispiel. Was ist die richtige Allgemeinheit?

* Sei C_{0} auf X = C die Wolkenkratzergarbe mit Träger in 0 und Halm C dort.
  Die Koszul-Auflösung zeigt sofort, dass C_{0} als O_X-Modul endlich
  präsentiert ist: Habe 0 --> O_X --z--> O_X --> C_{0} --> 0.

  Also gilt: HOM(C_{0}, O_X)_0 ~~ Hom_{O_0}(C, O_0) = 0.


=== Halme des Pushforwards

Sei f : X --> Y. Sei y \in Y. Gelte folgende Bedingung: Jede Familie von
offenen Umgebungen um die Urbildpunkte f^{-1}[y] lässt sich so verkleinern,
dass die Umgebungen paarweise disjunkt werden und sodass ihre Vereinigung von
eine Obermenge von einer Menge der Form f^{-1}[U] ist, für eine offene
Teilmenge y \in U \subseteq Y.

Dann gilt: (f_* F)_y ~~ \prod_{f(x)=y} F_x.

Das ist zum Beispiel erfüllt bei:
* f : R --> R, x |-> x^2
* f : S^1 --> S^1, z |-> z^2


Etwas allgemeiner: Es gilt (f_* F)_y ~~ Gamma(f^{-1}[y], F), wenn folgende
Bedingung erfüllt ist: Zu jeder offenen Teilmenge U von X, welche f^{-1}[y]
umfasst, gibt es eine offene Teilmenge V von Y, welche y enthält und sodass
f^{-1}[V] eine Teilmenge von U ist.

Das ist genau dann der Fall, wenn f abgeschlossen ist!
Siehe: Torsten Wedhorn. Manifolds, sheaves, and cohomology. Seite 86.


=== Zurück und vor

Sei f : X --> Y Morphismus geringter Räume. Sei F ein O_X-Modul und E ein lokal
freier O_Y-Modul endlichen Rangs. Dann gilt die Projektionsformel:

    f_*(F tensor f^*E) ~~ f_*F tensor E.

Für F = O_X erhält man:

    f_* f^* E ~~ f_*O_X tensor E.

Ist f speziell eine offene Immersion von Schemata sodass Y normal und X
mindestens Kodimension 2 hat, so gilt f_*O_X ~~ O_Y, also in diesem Fall

    f_* f^* E ~~ E.

Quelle: http://mathoverflow.net/questions/114032/restriction-of-sheaf

Das ist natürlich ein Hartogs-Phänomen. Für mehr Hintergrund siehe:
http://mathoverflow.net/questions/45347/why-does-the-s2-property-of-a-ring-correspond-to-the-hartogs-phenomenon/45354#45354


=== Träger

1) Träger eines Schnitts: supp s := { x | s_x \neq 0 } ist stets abgeschlossen.

2) Träger einer (Modul- oder Ring-)Garbe: supp F := { x | F_x \neq 0 }
   -- ist im Allgemeinen weder offen noch abgeschlossen.
   -- aber abgeschlossen, wenn F Ringgarbe oder Modulgarbe v.e.T.
   -- ist Vereinigung der Träger aller Schnitte über allen offenen Teilmengen.

   Beispiel: supp(A/p) = V(p) = { q | p \subseteq q }.
   Speziell: supp(A/m) = { m }, wenn m maximal ist.

3) Falls U cap (supp F) = leer, so ist F(U) = 0.

   Umformulierung der Definition: F_x = 0, falls x nicht in supp F liegt.

4) Der Träger ändert sich unter Garbifizierung nicht.

5) supp(F \otimes G) \subseteq supp(F) \cap supp(G).

6) Ist phi: F --> G ein Morphismus, dann:
   -- { x | phi_x \neq 0 } \subset supp F \cap \supp G.
   -- Wenn phi Mono: supp F \subset supp G.
   -- Wenn phi Epi:  supp F \supset supp G.

   Ist 0 --> F' --> F --> F'' --> 0 eine kurze exakte Sequenz, so gilt
   supp(F) = supp(F') \cup supp(F''). Was hat das für Konsequenzen?
   Etwas ähnliches gilt auch für längere exakte Sequenzen, sogar für
   unendlich lange. Das zeigt man möglichst elegant durch eine
   Verallgemeinerung von K-Theorie (Definition als freien abelschen Monoid
   genügt für den Fall endlicher exakter Sequenzen).

   Damit verwandt: Ist 0 --> F' --> F --> F'' --> 0 eine nicht unbedingt exakte
   Sequenz, so gilt (kurz geschrieben):

       |F'| + |F''| + |H^1| = |F| + |H^0| + |H^2|.

7) supp HOM(F,G) \subseteq clos supp(F) \cap clos supp(G).

   Das ist klar mit einem topologischen Kriterium für Zugehörigkeit zum
   Abschluss.


=== i_* und i_! 

1) Sei i: Z \subset X abgeschlossen, F Garbe auf Z.
   Dann ist i_*(F) Garbe auf X, die auf Z dieselben Halme wie F hat
   und auf X\Z jeweils 0 als Halme hat.
   Insbesondere ist i_* dann exakt.

2) Sei F Garbe auf X, supp F \subset Z \subset X, Z abgeschlossen.
   Dann (und nur dann) ist F --> i_* i^(-1) F ein Iso.

   Das ist übrigens genau dann der Fall, wenn F(U) = F(V) für U, V
   mit U cap Z = V cap Z.

3) Zu U \subset X offen gibt es i_!:
   -- i_! -| i^(-1) -| i_*
   -- i_! ist exakt.
   -- Halme von i_!(F) gleich F_x bzw. gleich 0.
   -- Definiert als die Vergarbung der Prägarbe
          W |--> F(W), falls W \subset U; 0, sonst.

4) Zurückziehen/Vorwärtsdrücken induziert ziemlich sicher eine Äquivalenz

      AbSh(Z) ~ { F aus AbSh(X) | supp F \subseteq Z },

   wenn Z \subseteq X abgeschlossen ist.


=== Wolkenkratzergarben allgemein

Sei F eine Garbe auf X mit supp F = { x0 }. Sei x0 ein abgeschlossener Punkt.

* Jeder Keim s \in F_x0 lässt sich eindeutig zu einem globalen Schnitt,
  dessen Halm bei x0 gleich s ist, fortsetzen.

  Denn: Die Eindeutigkeitsaussage ist klar (vergleiche Halme!). Zur Existenz
  finde einen Schnitt s, der auf einer offenen Menge U um x0 definiert ist und
  den vorgegebenen Keim repräsentiert. Dann lässt sich X durch

      U  und  X \ {x0}

  überdecken (hier geht die Abgeschlossenheit von x0 ein!). Die Schnitte s auf U
  und der einzige Schnitt auf X\{x0} (der Nullschnitt) verkleben zum gesuchten
  globalen Schnitt.

* Daher hat man für x0 in U einen kanonischen Isomorphismus

      F(U) ---> F_x0.  (Keim nehmen)

  Dieser ist natürlich in U, in dem Sinn, dass für V \subseteq U die beiden
  Morphismen F(U) ---> F_x0 übereinstimmen.

* F ist kanonisch isomorph zu i_*(F_x0), wobei i : {x0} --> X die kanonische
  abgeschlossene Immersion ist. Genauer:

  1. Wenn F nur eine Garbe abelscher Gruppen ist, ist der rein
  garbentheoretische Pushforward längs der stetigen Abbildung i die einzige
  Option.

  2. Wenn X ein lokal geringter Raum und F ein O_X-Modul ist, möchte man
  vielleicht die LRS-Varianten von Pullback und Pushforward verwenden.
  Dann darf man NICHT i : Spec k(x0) --> X verwenden. Denn der Pullback eines
  O_X-Moduls unter diesem Morphismus ist nicht der Halm, sondern die Faser an
  der Stelle x0; und Vorwärtsdrücken kann man gar nicht beliebige
  O_{X,x0}-Moduln.

  3. Stattdessen muss man i : (pt, O_{X,x0}) --> X verwenden.
  Beobachte, dass dieser LRS im Allgemeinen KEIN Schema ist (müsste schon affin
  sein, dann müsste er aber soviele Punkte enthalten, wie O_{X,x0} Primideale
  besitzt).

* F ist injektiv (und somit flabby, was man auch direkt sehen kann).
  Denn F_x0 ist als Vektorraum über einem Körper injektiv in k(x0)-Mod.
  Die Flabbyness kann ich auch einsehen, wenn O_X kein lokaler Ring ist (und
  man somit nicht Rückzug auf Vektorräume hat).
  ??? Hier scheinen Halm und Faser verwechselt zu sein.

* Daher verschwindet die höhere Garbenkohomologie von X mit Werten in F.
  Kann das auch direkt einsehen: Sei F_x0 --> I^* eine injektive Auflösung in
  O_x0-Mod. Dann ist i_*(F_x0) --> i_*(I^*) eine injektive Auflösung in X.
  Die Behauptung folgt.

  Korollar: chi(F) = dim_k F_x0. Falls F_x0 die Skalareinschränkung längs
  O_x0 --> k(x0) eines k(x0)-Vektorraums ist, und ferner k = k(x0) gilt,
  so ist das gleich der k-Dimension dieses Vektorraums (welcher dann gleich
  der Faser von F an der Stelle x0 ist).

* Sei L ein O_X-Modul mit L_x0 ~~ O_x0. Dann habe einen Isomorphismus

      F \otimes L ---> F,

  der kanonisch ist modulo Wahl des Isomorphismus L_x0 ~~ O_x0.

  XXX: Das nochmal prüfen!

  Habe folgendes verwandtes Resultat, X lokal geringter Raum:
  i_*(k(x0)) otimes F ~~ i_*(F|_x0).

* Sei f : X --> Y ein Morphismus von topologischen Räumen.

  Dann gilt: (f_* F)(U) = F_x0, falls f(x0) in U; 0, sonst.

  Insbesondere gilt (f_* F)_{f(x0)} = F_x0.

  Damit die Halme von f_*F an allen anderen Punkten verschwinden, ist es
  hinreichend, dass für jede offene Umgebung V von Y eine Unterumgebung V'
  existiert, die f(x0) nicht enthält. Das ist etwa dann der Fall, wenn
  f(x0) ein abgeschlossener Punkt in Y ist.


=== Toposstandpunkt

* [[ s = 0 ]] ist X \ supp s = { x | s_x = 0 }.

* [[ F = 0 ]] ist int(X \ supp F) = X \ clos supp F, denn:

       U \subseteq [[ F = 0 ]]
  <==> U |== F = 0
  <==> für alle x \in U: x \in X \ supp F
  <==> U \subseteq (X \ supp F).

* In einer kurzen exakten Sequenz 0 --> F --> G --> H --> 0 gilt:
  G = 0 genau dann, wenn F = 0 und H = 0.

  Daraus folgt sofort ein Ergebnis über die Abschlüsse der Träger:
  clos supp G = clos supp F cup clos supp H.

* [[ F bewohnt ]] = { x | F_x bewohnt }; das ist natürlich langweilig
  für O_X-Modulgarben, da gleich ganz X.

* [[ 1 = 0 ]] gehört zu X \ supp R, R Ringgarbe.

* Was bedeutet [[ \exists x : M. x \neq 0 ]] für M Modulgarbe?


=== Geometrischer Nakayama

Klar. Formulierung siehe Ravi Vakil.


=== Garbenhom bei O_X-Moduln

Man hat stets einen natürlichen Morphismus

    HOM_{O_X}(E, F)_x --> Hom_{O_{X,x}}(E_x, F_x).

Falls E um x von endlicher Präsentation ist, ist das sogar ein Iso.
Zeige das so: Kann auf offene Umgebung von x einzuschränken; für
E = O_X^n wäre es klar; HOM-Funktor ist linksexakt; 4er-Lemma.

Sollte ferner Hom(E_x, F_x) tensor k(x) --> Hom(E|_x, F|_x) ein Iso sein, gilt
sogar HOM(E, F)|_x ~~ Hom(E|_x, F|_x). Das ist zum Beispiel dann der Fall, wenn
E und F frei von endlichem Rang um x sind. Vermutlich auch noch allgemeiner.


=== Kohärenzbedingung

* Von einer Modulgarbe, die nicht kohärent ist, sollte man nicht die Fasern
  berechnen. Das zeigt sich etwa im Fall K_X: Die Fasern an (abgeschlossenen)
  Punkten sind alle Null.


=== Lokale Systeme

Ein lokales System ist eine lokal konstante Garbe (von Vektorräumen), d.h. eine
Garbe, die auf den Mengen einer Überdeckung jeweils isomorph zu einer
konstanten Garbe ist.

Fundamentales Lemma: Lokale Systeme auf X entsprechen Darstellungen des
Fundamentalgruppoids von X.

Ist gamma: [0,1] --> X ein Weg, hat man einen Isomorphismus F_gamma(0) -->
F_gamma(1) von Halmen, indem man das Intervall in (dank Kompaktheit endlich
viele) Teile teilt, deren Bild unter gamma jeweils in einer geeigneten offenen
Menge landen (offen und zusammenhängend). Abstrakter: Der Rückzug von F auf
[0,1] ist sogar eine konstante Garbe.

Details:
* Achar, Local Systems and Constructible Sheaves.
* Schapira, Algebra and Topology.

Euler characteristic with coefficients in a rank n local system equals n times
ordinary Euler characteristic.
http://mathoverflow.net/questions/136516/euler-characteristic-of-coverings-via-sheaf-theory?rq=1


=== Konstante Garben

* Konstante Garben sind auf Räumen mit generischem Punkt negneg-Garben.
  Das liegt daran, dass Abbildungen X --> A, wobei X einen generischen Punkt
  hat und A diskret ist, konstant sind (mit Wert f(xi)). Für jede nichtleere
  offene Teilmenge U ist dann F(U) --> F_xi ein Iso.

* Allgemeiner sind Abbildungen X --> A, wobei X einen generischen Punkt hat
  und A hausdorffsch ist, konstant. Insbesondere ist die Garbe der stetigen
  Funktionen auf solchen Räumen X also die konstante Garbe R.

* Untergarben lokal konstanter Garben sind nicht immer wieder lokal konstant.

  Beispiel: A --> NN (konstante Garbe) mit A = { n:N | ex. EZS von F mit n
  Elementen }. Wenn A lokal konstant wäre, so wäre lokal der Halm A_x immer
  derselbe; insbesondere wäre x |--> rk_x F lokal konstant. Das muss ja aber im
  Allgemeinen nicht der Fall sein.

* Lokale Konstanz mit endlichen Werten kann man leicht intern charakterisieren:
  Das stimmt genau dann, wenn X |== bigvee_n F ~~ [n], also wenn X |== F endlich.

* Gilt HOM(gamma*(A), gamma*(B)) ~~ gamma*(B^A), zumindest lokal?


=== Garbentheoretischer Zugang zu Mannigfaltigkeiten

* Donu Arapura: Manifolds and Varieties via Sheaves.
  http://www.math.purdue.edu/~dvb/preprints/crashcourse.pdf
  http://www.math.purdue.edu/~dvb/preprints/sheaves.pdf


=== Torsion

* angeblich: kohärent, torsionsfrei ==> lokal frei
  (zumindest in Dimension 1)

* angeblich: F kohärent, torsionsfrei ==> F^^ lokal frei


=== Kategorie der Garben als Lokalisierung der Prägarbenkategorie

Sh(X) = PSh(X)[(lokale Isos)^(-1)]. Dabei heißt ein Prägarbenmorphismus lokaler
Iso, wenn er Isos auf allen Halmen induziert.

Motto: Eine Garbe ist was man erhält, wenn man eine Prägarbe nimmt und alles
wegschmeisst, was nicht auf dem Niveau von Halmen detektierbar ist.

Siehe: Antwort von Zhen Lin auf
http://math.stackexchange.com/questions/9928/yoga-of-localization-in-categories.


=== Garben auf lokalen Räumen

Sei X ein lokaler Raum.

* Sei x ein Brennpunkt von X. Dann ist für jede Garbe F die kanonische Abbildung

      F(X) ---> F_x

  ein Iso. Daher ist also "globale Schnitte nehmen" dann einfach Spezialfall
  von "Halm nehmen". Das ist gut zu wissen, wenn man es mit geometrischen
  Formeln zu tun hat!

* Auch ohne Brennpunkt besitzt der "globale Schnitte"-Funktor einen extra
  Rechtsadjungierten, explizit durch folgende Formel gegeben:

      Gamma^!(M) := (auf U: [ (U=X), M ]).


=== Grothendiecks vier bzw. sechs Funktoren

Siehe: http://blog.konradvoelkel.de/2012/05/four-functors-example/

Ein Grund für die Notwendigkeit der derivierten Kategorie ist, dass f_! im
Allgemeinen keinen Rechtsadjungierten f^! in der Garbenkategorie besitzt.
(Kann er nicht haben, denn f_! besitzt im Allgemeinen Kohomologie, ist also
nicht rechtsexakt.)


=== Siehe auch

http://www.math.uni-kiel.de/algebra/bois/docz/sheaves_notes.pdf
Nette Einführung mit Bildern. Sagt auch etwas, wie man Coh(X) aus Coh(U_i)
erhält.


=== Nächste Schritte

* Wieso sind Wolkenkratzergarben (die aus der algebraischen Geometrie) im
  noetherschen Fall kohärent?

* Was passiert mit solchen Wolkenkratzergarben unter Vorwärtsdrücken und
  Zurückziehen?

* Höhere direkte Bilder verstehen. Weiß man etwas über den Träger?

* Bemerkungen unter Überschrift "Torsion" verstehen

* Dinge wie "f_* K ~~ K oplus K" verstehen, wobei K jeweils konstante Garbe
